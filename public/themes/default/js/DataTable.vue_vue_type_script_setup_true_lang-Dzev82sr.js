import{k as e,$ as a,r as t,e as o,o as n,N as r,Y as u,L as s}from"./vue-vendors-B4XdlKKZ.js";import{a3 as l}from"./naive-ui-DFBPfLe9.js";const p=e({__name:"DataTable",props:{columns:{type:Object,required:!0},fetch:{type:Function,required:!0}},setup(e,{expose:p}){const{t:i}=a(),c=e,d=t(),g=t(!1),m=t([]),f=o({pageCount:1,prefix:({itemCount:e})=>i("Total {count} records",{count:e})});function v(e){g.value||(g.value=!0,c.fetch(e).then((e=>{const a=e.data.data;m.value=a.data;const t=a.total||a.meta.total,o=a.per_page||a.meta.per_page;f.page=a.current_page||a.meta.current_page,f.pageCount=Math.ceil(t/o),f.itemCount=t,f.pageSize=o})).finally((()=>{g.value=!1})))}return n((()=>{v(1)})),p({refresh:function(){v(f.page||1)}}),(a,t)=>(s(),r(u(l),{class:"rounded-lg overflow-hidden",remote:"",ref_key:"tableRef",ref:d,data:m.value,columns:e.columns,loading:g.value,pagination:f,"onUpdate:page":v},null,8,["data","columns","loading","pagination"]))}});export{p as _};
