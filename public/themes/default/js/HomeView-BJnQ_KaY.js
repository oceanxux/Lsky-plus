import{n as e,C as o,a as n,_ as s,e as t,E as a}from"./Layout.vue_vue_type_script_setup_true_lang-Bd80f82b.js";import{u as l,a as i,b as r}from"./index-DZdj2b_n.js";import{k as u,K as d,L as c,M as g,a6 as p,$ as m,r as f,o as v,O as h,N as _,Q as x,I as k,a7 as b,Y as w,P as y,j,U as z}from"./vue-vendors-B4XdlKKZ.js";import{a as I,b as C}from"./bg-BQwuMl68.js";import{m as L,n as $,B as O,o as T}from"./naive-ui-DFBPfLe9.js";import"./icons-C1_zt0kT.js";import"./photo-components-DTzq5atJ.js";import"./utils-DGAJShNI.js";const U={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},M=[g("path",{d:"M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("path",{d:"M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 179V64h-48v69"},null,-1)],V=u({name:"HomeOutline",render:function(e,o){return c(),d("svg",U,M)}}),B={class:"relative z-[1] h-screen w-full overflow-hidden"},E={class:"absolute inset-0 z-[2] w-full h-full flex items-center bg-black/40"},N={class:"container mx-auto max-w-screen-lg px-6 space-y-6 break-all text-center"},P={class:"text-white text-6xl md:text-7xl font-bold"},R={class:"text-white text-2xl md:text-3xl font-medium"},S={class:"inline-flex bg-black/30 rounded text-md p-2 text-gray-100"},A={class:"flex flex-col sm:flex-row justify-center gap-6"},G=u({__name:"HomeView",setup(u){const d=p(),U=l(),M=i(),G=r(),H=L(),q=m(),D=f(null),K=f();function Q(){var e;(null==(e=M.configs)?void 0:e.app.guest_upload)||G.isLoggedIn?t.emit(a.TRIGGER_UPLOAD_BUTTON):H.error(q.t("Please login before uploading images"))}return v((()=>{var e,o,n,s,t;if(U.setSidebarOpen(!1),setTimeout((()=>{var e;return null==(e=D.value)?void 0:e.play()}),500),null==(e=M.configs)?void 0:e.site.homepage_background_image_url)K.value={backgroundImage:`url("${null==(o=M.configs)?void 0:o.site.homepage_background_image_url}")`};else if((null==(n=M.configs)?void 0:n.site.homepage_background_images)&&(null==(s=M.configs)?void 0:s.site.homepage_background_images.length)>0){const e=I.randomItem(null==(t=M.configs)?void 0:t.site.homepage_background_images);K.value={backgroundImage:`url("${e}")`}}else K.value={backgroundImage:`url("${C}")`}})),(t,a)=>{var l;const i=h("i18n-t");return c(),_(s,{"toggle-header":!0,"show-footer":!0,"header-title":(null==(l=w(M).configs)?void 0:l.app.name)||""},{default:x((()=>{var s,l,r,u,p;return[g("div",B,[g("div",{class:"h-full w-full bg-gradient-to-b from-indigo-500 bg-fixed bg-center bg-cover animate-slide rightness-50",style:k(K.value)},null,4),g("div",E,[g("div",N,[g("h1",P,b(null==(s=w(M).configs)?void 0:s.site.homepage_title),1),g("h2",R,b(null==(l=w(M).configs)?void 0:l.site.homepage_description),1),g("h3",S,[y(i,{keypath:"The site has hosted {count} images, occupying {size} of storage.",scope:"global"},{count:x((()=>{var e;return[y(w($),{ref_key:"numberAnimationInstRef",ref:D,to:null==(e=w(M).configs)?void 0:e.app.photo_count,active:!1,"show-separator":""},null,8,["to"])]})),size:x((()=>{var o;return[j(b(w(e).fileSize(1024*((null==(o=w(M).configs)?void 0:o.app.photo_size)||0))),1)]})),_:1})]),g("div",A,[(null==(u=null==(r=w(M).configs)?void 0:r.app)?void 0:u.enable_explore)?(c(),_(w(O),{key:0,class:"p-6",strong:"",round:"",type:"info",size:"large",onClick:a[0]||(a[0]=e=>w(d).push("/explore"))},{icon:x((()=>[y(w(T),{component:w(o)},null,8,["component"])])),default:x((()=>[j(" "+b(t.$t("Exploration Square")),1)])),_:1})):z("",!0),y(w(O),{class:"p-6",strong:"",round:"",type:"error",size:"large",onClick:Q,disabled:!(null==(p=w(M).configs)?void 0:p.app.guest_upload)&&!w(G).isLoggedIn},{icon:x((()=>[y(w(T),{component:w(n)},null,8,["component"])])),default:x((()=>[j(" "+b(t.$t("Upload Now")),1)])),_:1},8,["disabled"]),y(w(O),{class:"p-6",strong:"",round:"",type:"success",size:"large",onClick:a[1]||(a[1]=e=>w(d).push("/user/dashboard"))},{icon:x((()=>[y(w(T),{component:w(V)},null,8,["component"])])),default:x((()=>[j(" "+b(t.$t("User Center")),1)])),_:1})])])])])]})),_:1},8,["header-title"])}}});export{G as default};
