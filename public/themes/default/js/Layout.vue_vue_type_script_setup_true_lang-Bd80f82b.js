var e=Object.defineProperty,t=(t,l,n)=>((t,l,n)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[l]=n)(t,"symbol"!=typeof l?l+"":l,n);import{a as l,u as n,ai as o,b as r,aj as a,F as i,ak as s,X as u,al as d,am as c,x as p,A as h}from"./index-DZdj2b_n.js";import{k as f,K as v,L as m,M as g,ad as k,$ as w,c as y,r as x,a8 as b,w as _,P as C,y as M,Q as A,U as j,Y as $,a6 as E,a7 as S,F as U,m as L,N as z,R as B,j as O,_ as H,o as F,G as D,b as Q,I as Y,T,V as P,n as R,H as I,s as q,q as N,p as G}from"./vue-vendors-B4XdlKKZ.js";import{aa as V,ab as W,ac as X,ad as J,o as Z,a0 as K,B as ee,ae as te,p as le,a4 as ne,L as oe,m as re,M as ae,O as ie,E as se,t as ue,af as de,U as ce,I as pe,ag as he,ah as fe,y as ve,A as me,C as ge,K as ke,R as we,Q as ye,Z as xe,w as be,a9 as _e,s as Ce,ai as Me,aj as Ae}from"./naive-ui-DFBPfLe9.js";import{F as je,h as $e,Q as Ee,L as Se}from"./icons-C1_zt0kT.js";import{f as Ue}from"./photo-components-DTzq5atJ.js";import{g as Le,b as ze,v as Be,a as Oe}from"./utils-DGAJShNI.js";const He={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Fe=g("circle",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",cx:"256",cy:"56",r:"40"},null,-1),De=g("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",d:"M204.23 274.44c2.9-18.06 4.2-35.52-.5-47.59c-4-10.38-12.7-16.19-23.2-20.15L88 176.76c-12-4-23.21-10.7-24-23.94c-1-17 14-28 29-24c0 0 88 31.14 163 31.14s162-31 162-31c18-5 30 9 30 23.79c0 14.21-11 19.21-24 23.94l-88 31.91c-8 3-21 9-26 18.18c-6 10.75-5 29.53-2.1 47.59l5.9 29.63l37.41 163.9c2.8 13.15-6.3 25.44-19.4 27.74S308 489 304.12 476.28l-37.56-115.93q-2.71-8.34-4.8-16.87L256 320l-5.3 21.65q-2.52 10.35-5.8 20.48L208 476.18c-4 12.85-14.5 21.75-27.6 19.46s-22.4-15.59-19.46-27.74l37.39-163.83z"},null,-1),Qe=[Fe,De],Ye=f({name:"AccessibilityOutline",render:function(e,t){return m(),v("svg",He,Qe)}}),Te={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Pe=g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 112v288"},null,-1),Re=g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 256H112"},null,-1),Ie=[Pe,Re],qe=f({name:"AddOutline",render:function(e,t){return m(),v("svg",Te,Ie)}}),Ne={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ge=[g("rect",{x:"64",y:"176",width:"384",height:"256",rx:"28.87",ry:"28.87",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("path",{stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M144 80h224",fill:"currentColor"},null,-1),g("path",{stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M112 128h288",fill:"currentColor"},null,-1)],Ve=f({name:"AlbumsOutline",render:function(e,t){return m(),v("svg",Ne,Ge)}}),We={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Xe=[k('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M344 280l88-88"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M232 216l64 64"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 320l104-104"></path><circle cx="456" cy="168" r="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="320" cy="304" r="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="208" cy="192" r="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="56" cy="344" r="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle>',7)],Je=f({name:"AnalyticsOutline",render:function(e,t){return m(),v("svg",We,Xe)}}),Ze={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ke=[g("circle",{cx:"176",cy:"416",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("circle",{cx:"400",cy:"416",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M48 80h64l48 272h256"},null,-1),g("path",{d:"M160 288h249.44a8 8 0 0 0 7.85-6.43l28.8-144a8 8 0 0 0-7.85-9.57H128",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],et=f({name:"CartOutline",render:function(e,t){return m(),v("svg",Ze,Ke)}}),tt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},lt=[g("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 320L192 192"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M192 320l128-128"},null,-1)],nt=f({name:"CloseCircleOutline",render:function(e,t){return m(),v("svg",tt,lt)}}),ot={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},rt=[g("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1)],at=f({name:"CloudUploadOutline",render:function(e,t){return m(),v("svg",ot,rt)}}),it={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},st=[g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M160 368L32 256l128-112"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 368l128-112l-128-112"},null,-1)],ut=f({name:"CodeOutline",render:function(e,t){return m(),v("svg",it,st)}}),dt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ct=[g("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),g("path",{d:"M350.67 150.93l-117.2 46.88a64 64 0 0 0-35.66 35.66l-46.88 117.2a8 8 0 0 0 10.4 10.4l117.2-46.88a64 64 0 0 0 35.66-35.66l46.88-117.2a8 8 0 0 0-10.4-10.4zM256 280a24 24 0 1 1 24-24a24 24 0 0 1-24 24z",fill:"currentColor"},null,-1)],pt=f({name:"CompassOutline",render:function(e,t){return m(),v("svg",dt,ct)}}),ht={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ft=[g("rect",{x:"128",y:"128",width:"336",height:"336",rx:"57",ry:"57",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("path",{d:"M383.5 128l.5-24a56.16 56.16 0 0 0-56-56H112a64.19 64.19 0 0 0-64 64v216a56.16 56.16 0 0 0 56 56h24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],vt=f({name:"CopyOutline",render:function(e,t){return m(),v("svg",ht,ft)}}),mt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},gt=[g("path",{d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 272l80 80l80-80"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 48v288"},null,-1)],kt=f({name:"DownloadOutline",render:function(e,t){return m(),v("svg",mt,gt)}}),wt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},yt=[k('<path d="M464 256c0-114.87-93.13-208-208-208S48 141.13 48 256s93.13 208 208 208s208-93.13 208-208z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><path d="M445.57 172.14c-16.06.1-14.48 29.73-34.49 15.75c-7.43-5.18-12-12.71-21.33-15c-8.15-2-16.5.08-24.55 1.47c-9.15 1.58-20 2.29-26.94 9.22c-6.71 6.67-10.26 15.62-17.4 22.33c-13.81 13-19.64 27.19-10.7 45.57c8.6 17.67 26.59 27.26 46 26c19.07-1.27 38.88-12.33 38.33 15.38c-.2 9.8 1.85 16.6 4.86 25.71c2.79 8.4 2.6 16.54 3.24 25.21c1.18 16.2 4.16 34.36 12.2 48.67l15-21.16c1.85-2.62 5.72-6.29 6.64-9.38c1.63-5.47-1.58-14.87-1.95-21s-.19-12.34-1.13-18.47c-1.32-8.59-6.4-16.64-7.1-25.13c-1.29-15.81 1.6-28.43-10.58-41.65c-11.76-12.75-29-15.81-45.47-13.22c-8.3 1.3-41.71 6.64-28.3-12.33c2.65-3.73 7.28-6.79 10.26-10.34c2.59-3.09 4.84-8.77 7.88-11.18s17-5.18 21-3.95s8.17 7 11.64 9.56a49.89 49.89 0 0 0 21.81 9.36c13.66 2 42.22-5.94 42-23.46c-.04-8.4-7.84-20.1-10.92-27.96z" fill="currentColor"></path><path d="M287.45 316.3c-5.33-22.44-35.82-29.94-52.26-42.11c-9.45-7-17.86-17.81-30.27-18.69c-5.72-.41-10.51.83-16.18-.64c-5.2-1.34-9.28-4.14-14.82-3.41c-10.35 1.36-16.88 12.42-28 10.92c-10.55-1.42-21.42-13.76-23.82-23.81c-3.08-12.92 7.14-17.11 18.09-18.26c4.57-.48 9.7-1 14.09.67c5.78 2.15 8.51 7.81 13.7 10.67c9.73 5.33 11.7-3.19 10.21-11.83c-2.23-12.94-4.83-18.22 6.71-27.12c8-6.14 14.84-10.58 13.56-21.61c-.76-6.48-4.31-9.41-1-15.86c2.51-4.91 9.4-9.34 13.89-12.27c11.59-7.56 49.65-7 34.1-28.16c-4.57-6.21-13-17.31-21-18.83c-10-1.89-14.44 9.27-21.41 14.19c-7.2 5.09-21.22 10.87-28.43 3c-9.7-10.59 6.43-14.07 10-21.46s-8.27-21.36-14.61-24.9l-29.81 33.43a41.52 41.52 0 0 0 8.34 31.86c5.93 7.63 15.37 10.08 15.8 20.5c.42 10-1.14 15.12-7.68 22.15c-2.83 3-4.83 7.26-7.71 10.07c-3.53 3.43-2.22 2.38-7.73 3.32c-10.36 1.75-19.18 4.45-29.19 7.21C95.34 199.94 93.8 172.69 86.2 162l-25 20.19c-.27 3.31 4.1 9.4 5.29 13c6.83 20.57 20.61 36.48 29.51 56.16c9.37 20.84 34.53 15.06 45.64 33.32c9.86 16.2-.67 36.71 6.71 53.67c5.36 12.31 18 15 26.72 24c8.91 9.09 8.72 21.53 10.08 33.36a305.22 305.22 0 0 0 7.45 41.28c1.21 4.69 2.32 10.89 5.53 14.76c2.2 2.66 9.75 4.95 6.7 5.83c4.26.7 11.85 4.68 15.4 1.76c4.68-3.84 3.43-15.66 4.24-21c2.43-15.9 10.39-31.45 21.13-43.35c10.61-11.74 25.15-19.69 34.11-33c8.73-12.98 11.36-30.49 7.74-45.68zm-33.39 26.32c-6 10.71-19.36 17.88-27.95 26.39c-2.33 2.31-7.29 10.31-10.21 8.58c-2.09-1.24-2.8-11.62-3.57-14a61.17 61.17 0 0 0-21.71-29.95c-3.13-2.37-10.89-5.45-12.68-8.7c-2-3.53-.2-11.86-.13-15.7c.11-5.6-2.44-14.91-1.06-20c1.6-5.87-1.48-2.33 3.77-3.49c2.77-.62 14.21 1.39 17.66 2.11c5.48 1.14 8.5 4.55 12.82 8c11.36 9.11 23.87 16.16 36.6 23.14c9.86 5.46 12.76 12.37 6.46 23.62z" fill="currentColor"></path><path d="M184.46 67.09c4.74 4.63 9.2 10.11 16.27 10.57c6.69.45 13-3.17 18.84 1.38c6.48 5 11.15 11.33 19.75 12.89c8.32 1.51 17.13-3.35 19.19-11.86c2-8.11-2.31-16.93-2.57-25.07c0-1.13.61-6.15-.17-7c-.58-.64-5.42.08-6.16.1q-8.13.24-16.22 1.12a207.1 207.1 0 0 0-57.18 14.65c2.43 1.68 5.48 2.35 8.25 3.22z" fill="currentColor"></path><path d="M356.4 123.27c8.49 0 17.11-3.8 14.37-13.62c-2.3-8.23-6.22-17.16-15.76-12.72c-6.07 2.82-14.67 10-15.38 17.12c-.81 8.08 11.11 9.22 16.77 9.22z" fill="currentColor"></path><path d="M349.62 166.24c8.67 5.19 21.53 2.75 28.07-4.66c5.11-5.8 8.12-15.87 17.31-15.86a15.4 15.4 0 0 1 10.82 4.41c3.8 3.93 3.05 7.62 3.86 12.54c1.81 11.05 13.66.63 16.75-3.65c2-2.79 4.71-6.93 3.8-10.56c-.84-3.39-4.8-7-6.56-10.11c-5.14-9-9.37-19.47-17.07-26.74c-7.41-7-16.52-6.19-23.55 1.08c-5.76 6-12.45 10.75-16.39 18.05c-2.78 5.13-5.91 7.58-11.54 8.91c-3.1.73-6.64 1-9.24 3.08c-7.24 5.7-3.12 19.39 3.74 23.51z" fill="currentColor"></path>',6)],xt=f({name:"EarthOutline",render:function(e,t){return m(),v("svg",wt,yt)}}),bt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},_t=[g("path",{d:"M440 432H72a40 40 0 0 1-40-40V120a40 40 0 0 1 40-40h75.89a40 40 0 0 1 22.19 6.72l27.84 18.56a40 40 0 0 0 22.19 6.72H440a40 40 0 0 1 40 40v240a40 40 0 0 1-40 40z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M32 192h448"},null,-1)],Ct=f({name:"FolderOutline",render:function(e,t){return m(),v("svg",bt,_t)}}),Mt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},At=[g("rect",{x:"48",y:"80",width:"416",height:"352",rx:"48",ry:"48",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("circle",{cx:"336",cy:"176",r:"32",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),g("path",{d:"M304 335.79l-90.66-90.49a32 32 0 0 0-43.87-1.3L48 352",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("path",{d:"M224 432l123.34-123.34a32 32 0 0 1 43.11-2L464 368",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],jt=f({name:"ImageOutline",render:function(e,t){return m(),v("svg",Mt,At)}}),$t={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Et=[k('<path d="M432 112V96a48.14 48.14 0 0 0-48-48H64a48.14 48.14 0 0 0-48 48v256a48.14 48.14 0 0 0 48 48h16" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32"></path><rect x="96" y="128" width="400" height="336" rx="45.99" ry="45.99" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32"></rect><ellipse cx="372.92" cy="219.64" rx="30.77" ry="30.55" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></ellipse><path d="M342.15 372.17L255 285.78a30.93 30.93 0 0 0-42.18-1.21L96 387.64" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M265.23 464l118.59-117.73a31 31 0 0 1 41.46-1.87L496 402.91" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path>',5)],St=f({name:"ImagesOutline",render:function(e,t){return m(),v("svg",$t,Et)}}),Ut={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Lt=[k('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M48 112h288"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M192 64v48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M272 448l96-224l96 224"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M301.5 384h133"></path><path d="M281.3 112S257 206 199 277S80 384 80 384" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M256 336s-35-27-72-75s-56-85-56-85" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path>',6)],zt=f({name:"LanguageOutline",render:function(e,t){return m(),v("svg",Ut,Lt)}}),Bt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ot=[g("rect",{x:"48",y:"96",width:"416",height:"304",rx:"32.14",ry:"32.14",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("path",{stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M16 416h480",fill:"currentColor"},null,-1)],Ht=f({name:"LaptopOutline",render:function(e,t){return m(),v("svg",Bt,Ot)}}),Ft={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Dt=[k('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M224 184h128"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M224 256h128"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M224 327h128"></path><path d="M448 258c0-106-86-192-192-192S64 152 64 258s86 192 192 192s192-86 192-192z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><circle cx="168" cy="184" r="8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="168" cy="257" r="8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="168" cy="328" r="8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle>',7)],Qt=f({name:"ListCircleOutline",render:function(e,t){return m(),v("svg",Ft,Dt)}}),Yt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Tt=[k('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 144h288"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 256h288"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 368h288"></path><circle cx="80" cy="144" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="80" cy="256" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="80" cy="368" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle>',6)],Pt=f({name:"ListOutline",render:function(e,t){return m(),v("svg",Yt,Tt)}}),Rt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},It=[g("path",{d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M368 336l80-80l-80-80"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 256h256"},null,-1)],qt=f({name:"LogOutOutline",render:function(e,t){return m(),v("svg",Rt,It)}}),Nt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Gt=[g("path",{d:"M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z",fill:"currentColor"},null,-1)],Vt=f({name:"MenuSharp",render:function(e,t){return m(),v("svg",Nt,Gt)}}),Wt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Xt=[g("path",{d:"M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216c88.68 0 166.73-51.57 200-128c-26.39 11.49-57.38 16-88 16c-119.29 0-216-96.71-216-216z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],Jt=f({name:"MoonOutline",render:function(e,t){return m(),v("svg",Wt,Xt)}}),Zt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Kt=[k('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M368 128h80"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M64 128h240"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M368 384h80"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M64 384h240"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M208 256h240"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M64 256h80"></path><circle cx="336" cy="128" r="32" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="176" cy="256" r="32" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="336" cy="384" r="32" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle>',9)],el=f({name:"OptionsOutline",render:function(e,t){return m(),v("svg",Zt,Kt)}}),tl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ll=[g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M364.13 125.25L87 403l-23 45l44.99-23l277.76-277.13l-22.62-22.62z"},null,-1),g("path",{d:"M420.69 68.69l-22.62 22.62l22.62 22.63l22.62-22.63a16 16 0 0 0 0-22.62h0a16 16 0 0 0-22.62 0z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],nl=f({name:"PencilOutline",render:function(e,t){return m(),v("svg",tl,ll)}}),ol={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},rl=[g("path",{d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),g("path",{d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1)],al=f({name:"PersonOutline",render:function(e,t){return m(),v("svg",ol,rl)}}),il={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},sl=[g("path",{d:"M256.05 80.65Q263.94 80 272 80c106 0 192 86 192 192s-86 192-192 192A192.09 192.09 0 0 1 89.12 330.65",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),g("path",{d:"M256 48C141.12 48 48 141.12 48 256a207.29 207.29 0 0 0 18.09 85L256 256z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],ul=f({name:"PieChartOutline",render:function(e,t){return m(),v("svg",il,sl)}}),dl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},cl=[g("path",{d:"M288 193s12.18-6-32-6a80 80 0 1 0 80 80",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"28"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"28",d:"M256 149l40 40l-40 40"},null,-1),g("path",{d:"M256 64C150 64 64 150 64 256s86 192 192 192s192-86 192-192S362 64 256 64z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1)],pl=f({name:"RefreshCircleOutline",render:function(e,t){return m(),v("svg",dl,cl)}}),hl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},fl=[g("path",{d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 58l80 80l-80 80"},null,-1)],vl=f({name:"RefreshOutline",render:function(e,t){return m(),v("svg",hl,fl)}}),ml={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},gl=[g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 256H112"},null,-1)],kl=f({name:"RemoveOutline",render:function(e,t){return m(),v("svg",ml,gl)}}),wl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},yl=[g("path",{d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M338.29 338.29L448 448"},null,-1)],xl=f({name:"SearchOutline",render:function(e,t){return m(),v("svg",wl,yl)}}),bl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},_l=[g("path",{d:"M262.29 192.31a64 64 0 1 0 57.4 57.4a64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22a155.3 155.3 0 0 1-21.46-12.57a16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22a155.3 155.3 0 0 1 21.46 12.57a16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],Cl=f({name:"SettingsOutline",render:function(e,t){return m(),v("svg",bl,_l)}}),Ml={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Al=[k('<circle cx="128" cy="256" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="384" cy="112" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="384" cy="400" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M169.83 279.53l172.34 96.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M342.17 135.53l-172.34 96.94"></path>',5)],jl=f({name:"ShareSocialOutline",render:function(e,t){return m(),v("svg",Ml,Al)}}),$l={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},El=[k('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M256 48v48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M256 416v48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M403.08 108.92l-33.94 33.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M142.86 369.14l-33.94 33.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M464 256h-48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M96 256H48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M403.08 403.08l-33.94-33.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M142.86 142.86l-33.94-33.94"></path><circle cx="256" cy="256" r="80" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"></circle>',9)],Sl=f({name:"SunnyOutline",render:function(e,t){return m(),v("svg",$l,El)}}),Ul={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ll=[g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M304 48l112 112l-112 112"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M398.87 160H96"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M208 464L96 352l112-112"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M114 352h302"},null,-1)],zl=f({name:"SwapHorizontalOutline",render:function(e,t){return m(),v("svg",Ul,Ll)}}),Bl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ol=[g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M464 208L352 96L240 208"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 113.13V416"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M48 304l112 112l112-112"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M160 398V96"},null,-1)],Hl=f({name:"SwapVerticalOutline",render:function(e,t){return m(),v("svg",Bl,Ol)}}),Fl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Dl=[g("path",{d:"M256 64C150 64 64 150 64 256s86 192 192 192s192-86 192-192S362 64 256 64z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),g("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 128v144h96"},null,-1)],Ql=f({name:"TimeOutline",render:function(e,t){return m(),v("svg",Fl,Dl)}}),Yl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Tl=[k('<path d="M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M80 112h352" fill="currentColor"></path><path d="M192 112V72h0a23.93 23.93 0 0 1 24-24h80a23.93 23.93 0 0 1 24 24h0v40" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v224"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M184 176l8 224"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M328 176l-8 224"></path>',6)],Pl=f({name:"TrashOutline",render:function(e,t){return m(),v("svg",Yl,Tl)}}),Rl={format:(e,t=0,l=".",n=",")=>{const o=e.toFixed(t);let[r,a]=o.split(".");return r=r.replace(/\B(?=(\d{3})+(?!\d))/g,n),a?`${r}${l}${a}`:r},fileSize:(e,t=2)=>{if(0===e)return"0 Bytes";const l=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,l)).toFixed(t)} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][l]}`},currency:(e,t="CNY",l="zh-CN")=>new Intl.NumberFormat(l,{style:"currency",currency:t}).format(e)},Il={class:"flex flex-col pt-16"},ql={class:"flex flex-col space-y-1.5 px-6 py-4 text-gray-500 dark:text-gray-300"},Nl=(e,t)=>{const l=e.__vccOpts||e;for(const[n,o]of t)l[n]=o;return l},Gl=Nl(f({__name:"Sidebar",setup(e){const{t:t}=w();function a(e){return()=>L(Z,{color:"#0094c5"},{default:()=>L(e)})}const i=y((()=>{var e,l;const n=[];return(null==(l=null==(e=p.configs)?void 0:e.app)?void 0:l.enable_explore)&&n.push({label:t("Square"),key:"/explore",icon:a(xl)}),n.push({label:t("Dashboard"),key:"/user/dashboard",icon:a(ul)}),n.push({type:"group",label:t("General"),key:"basic",children:[{label:t("My Photos"),key:"/user/photos",icon:a(St)},{label:t("My Albums"),key:"/user/albums",icon:a(Ve)},{label:t("My Shares"),key:"/user/shares",icon:a(jl)}]}),n.push({type:"group",label:t("Finance"),key:"finance",children:[{label:t("Purchase Subscription"),key:"/user/plans",icon:a(et)},{label:t("My Orders"),key:"/user/orders",icon:a(Pt)}]}),n.push({type:"group",label:t("Others"),key:"other",children:[{label:t("My Tickets"),key:"/user/tickets",icon:a(xt)},{label:t("My Tokens"),key:"/user/tokens",icon:a(Je)},{label:t("Profile"),key:"/user/profile",icon:a(al)},{label:t("Settings"),key:"/user/settings",icon:a(el)}]}),n})),s=b(),u=x(s.path),d=n(),c=o(),p=l(),h=r(),f=E(),k=(e,t)=>{f.push(e).then((()=>{c.isMobile&&d.setSidebarOpen(!1)}))};return _((()=>s.path),(e=>u.value=e)),(e,t)=>(m(),v(U,null,[C(M,null,{default:A((()=>[$(c).isMobile&&$(d).isSidebarOpen?(m(),v("div",{key:0,class:"fixed inset-0 bg-black/50 z-[9] w-full",onClick:t[0]||(t[0]=e=>$(d).setSidebarOpen(!1))})):j("",!0)])),_:1}),C($(V),{collapsed:!$(d).isSidebarOpen,"collapsed-width":0,"native-scrollbar":!1,position:$(c).isMobile?"absolute":"static",width:240,bordered:"",class:"z-10","collapse-mode":"transform","content-class":"flex flex-col min-h-full justify-between"},{default:A((()=>{var l,n,o,r;return[g("div",Il,[C($(W),{class:"absolute top-0 z-[2] flex p-4 justify-center text-xl items-center h-16 overflow-hidden bg-gray-600 border-b border-r border-transparent dark:bg-gray-900 dark:border-gray-700"},{default:A((()=>{var e;return[g("p",{class:"truncate text-white font-medium cursor-pointer",onClick:t[1]||(t[1]=()=>$(f).push("/"))},S(null==(e=$(p).configs)?void 0:e.site.title),1)]})),_:1}),C($(X),{value:u.value,"onUpdate:value":t[2]||(t[2]=e=>u.value=e),collapsed:!$(d).isSidebarOpen,"collapsed-icon-size":22,"collapsed-width":0,indent:0,options:i.value,"root-indent":35,"on-update-value":k},null,8,["value","collapsed","options"])]),g("div",ql,[g("p",null,S(e.$t("Storage Usage")),1),C($(J),{percentage:((null==(l=$(h).profile)?void 0:l.used_storage)||0)/((null==(n=$(h).profile)?void 0:n.total_storage)||0)*100,"show-indicator":!1,status:"success",type:"line"},null,8,["percentage"]),g("p",null,S($(Rl).fileSize(1024*((null==(o=$(h).profile)?void 0:o.used_storage)||0)))+" / "+S($(Rl).fileSize(1024*((null==(r=$(h).profile)?void 0:r.total_storage)||0))),1)])]})),_:1},8,["collapsed","position"])],64))}}),[["__scopeId","data-v-ddccd155"]]),Vl={class:"flex flex-col space-y-1 divide-y divide-amber-400"},Wl={class:"truncate"},Xl={class:"flex justify-between text-sm"},Jl={class:"flex space-x-1"},Zl={class:"flex space-x-1"},Kl=f({__name:"MoreButton",setup(e){const t=w(),o=n(),r=l(),d=a(),c=i(),p=y((()=>d.isDark)),h=x(),f=x(c.locale),k=c.getLocales();return _(f,(()=>{u({body:{language:f.value}}).then((e=>{c.setLocale(f.value),o.refresh()}))})),(e,l)=>(m(),z($(K),{ref_key:"popoverRef",ref:h,class:"!rounded-lg min-w-[200px] md:w-[280px] max-w-[300px]","content-style":{padding:"6px 8px"},placement:"bottom-end","show-arrow":"",trigger:"click"},{trigger:A((()=>[C($(ee),{circle:"",secondary:"",strong:"",title:$(t).t("More")},{icon:A((()=>[C($(Z),{component:$(Qt),size:25},null,8,["component"])])),_:1},8,["title"])])),footer:A((()=>[g("div",Xl,[g("div",Jl,[C($(ee),{size:"small",text:"",onClick:l[0]||(l[0]=e=>$(d).toggleTheme())},{icon:A((()=>[C($(Z),{component:p.value?$(Sl):$(Jt),size:18},null,8,["component"])])),default:A((()=>[O(" "+S(p.value?e.$t("Light Mode"):e.$t("Dark Mode")),1)])),_:1})]),g("div",Zl,[C($(te),{value:f.value,"onUpdate:value":l[1]||(l[1]=e=>f.value=e),options:$(k),trigger:"click"},{default:A((()=>[C($(ee),{size:"small",text:""},{icon:A((()=>[C($(Z),{component:$(zt),size:18},null,8,["component"])])),default:A((()=>{var e;return[O(" "+S(null==(e=$(k).find((e=>e.value===f.value)))?void 0:e.label),1)]})),_:1})])),_:1},8,["value","options"])])])])),default:A((()=>[g("div",Vl,[(m(!0),v(U,null,B($(r).pages,(e=>(m(),z($(ee),{block:"",quaternary:"",class:"justify-start px-2",onClick:t=>(e=>{h.value.setShow(!1),"internal"===e.type?s.push(`/pages/${e.slug}`):window.open(e.url)})(e)},{icon:A((()=>[C($(je),{icon:e.icon||"",size:"sm"},null,8,["icon"])])),default:A((()=>[g("p",Wl,S(e.name),1)])),_:2},1032,["onClick"])))),256))])])),_:1},512))}}),en={getSocialiteIcon:e=>({qq:Ee,github:$e}[e]||Ye),getWithoutQueryUrl:()=>window.location.origin+window.location.pathname,getUserAvatar:e=>e||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAGdklEQVR4Xu3d60rjUBiF4bn/exJBRAZERBARQaRX0mFpyuiqPaSmfnvv9f54/gxjm8P31jZN4p/VarUGUv3xfwCSEACiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEcCZvby8rB8eHta3t7frm5ub9cXFxV76P/q/+hn9rD8elkUAZ/D09PQ+xJeXl1sDPpceQ4+lx/Tnwc8RwELe3t7W9/f366urq60hXooeW8+h5/Lnx2kIYAEayiVe7Y+l59Jz+nJgPgL4gefn57O+4h+i59Yy+HLheARworu7u62BrKJl8eXDcQhgptfX1/X19fXWEFbTMmnZfHmxHwHMoMOSv/lefy4tG4dO5yGAI7U+/BtEMA8BHKGX4d8gguMRwAF6X93T8G9omflMcBgBHNDiB95jadl9ffAVAezR0qHOU3GIdD8C2EFfMPkw9Yovy3YjgB0qv+FdmtbF1w8fCOAbOs/Gh6h3nDv0PQIwOtOyx6M+h2idOIt0GwGYEV/9N/gtsI0AzEjv/R2fBbYRwCe66sqHZjRcWfYVAXyiSw99YEajdfT1TkYAn4z44ddpHX29kxHARCeP+bCMihPl/iOAiW5D4oMyKq2rr38qApgkvP/f4HPAfwQwOeamVaPQuvr6pyKAiQ/J6Hz9UxHAxAdkdL7+qQhg4gMyOl//VASw+jgBzgdkdL4NUhHAigCSEcDEB2R0vv6pCGDiAzI6X/9UBDDxARmdr38qApjwRVgmAphwKkQmAphwMlwmAphwOnQmAviEC2LyEMAnCZ8DeP//FQF8wkXxeQjAcFuULARgRj4axI2xthGA4daIWQjgGyPeHpFX/+8RwA4jfRbgvf9uBLADfyAjAwHswZ9IGh8BHMAfyRsbARzAn0kdGwEcgT+UPS4COFIvETD88xDADK1HwPDPRwAz6X11ix+MtUy855+PAE7U0iFSDnWejgB+QF8wVX5jrOfmS66fIYAF6Dyb3/xsoOfi3J5lEMBCdKalhvKcvxH02HoOzupcDgGcga660qWHS/xW0GPosbiS6zwI4Mx0WFIX2WiIj7n5lv6P/q9+hkOa50cAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAC9IF6qLLFuXv37/vF7icchsV/ZzoMTaPt3l8f16cjgBOoCu1Hh8f34dSQ3rO64B30XPqubUMWhauHjsNARygm01pwHTvnWMuaaymZdSyapm5UdZhBGA2A6/rcite2ZemddC6EMT3CGD1cRcHvWqOMPCHaB21rtxl4kNsAEveuqRX3HIlLACGfrfUGIYPQO97z33HttFs7kCX8Jlh2AB0vFzH0H3nYh5tw5G/exguAB3tOOWLJ+ynbapt69u7d8MEoJ3D25zz0zYeKYTuA9CvZ17xf5+2+QhvjboNQB/QeI9fT/ug5w/LXQagOydzKLMd2hfaJ76fetBVAPrDED2cj5NK+6a3P97RTQB6v8mrfvu0j3r6bNBFADrq4BsabevlSFHzAejred+46IP2ne/P1jQdAMPfv9YjaDYAHVXwjYk+tXyEqMkAdEaib0T0rdWzTJsLQIfRONozHu3TFg+RNhcA3+6OS/vW93e1pgLQ8WPfaBhLa98RNBUA3/KOT/vY93ulZgLQCVW+sTCmlk6eayYADnvmaOmwaDMB8PYnR0tvg5oJgEOfObSvff9XaSYA30gYm+//Kk0EoC9IfANhbD4DVZoIgOP/eXwGqhAASvgMVCEAlPAZqEIAKOEzUIUAUMJnoAoBoITPQBUCQAmfgSoEgBI+A1UIACV8BqoQAEr4DFQhAJTwGahCACjhM1CFAFDCZ6AKAaCEz0AVAkAJn4EqBIASPgNVCAAlfAaqEABK+AxUIQCU8BmoQgAo4TNQhQBQwmegCgGghM9AFQJACZ+BKgSAEj4DVQgAJXwGqhAASvgMVCEAlPAZqEIAKOEzUIUAUMJnoAoBoITPQBUCQAmfgSoEgBI+A1UIACV8BqoQAEr4DFQhAJTwGahCACjhM1CFAFDCZ6AKAaCEz0AVAkAJn4Eq/wBRE6hjunFhcwAAAABJRU5ErkJggg=="},tn=f({__name:"UserButton",setup(e){const t=r(),n=l(),{t:o}=w();function a(e){return()=>L(Z,null,{default:()=>L(e)})}const i=y((()=>{var e;return[{key:"header",type:"render",render:()=>{var e;return L("div",{class:"flex items-center p-3 min-w-[260px] max-w-[300px] md:max-w-[400px]"},[L(le,{round:!0,class:"mr-3 shrink-0",src:en.getUserAvatar(null==(e=t.profile)?void 0:e.avatar_url)}),L("div",{class:"overflow-hidden"},[L("div",{class:"text-lg truncate"},[L(ne,{depth:2},{default:()=>{var e;return null==(e=t.profile)?void 0:e.name}})]),L("div",{class:"text-sm truncate"},[L(ne,{depth:3},{default:()=>{var e,l;return(null==(e=t.profile)?void 0:e.tagline)||(null==(l=t.profile)?void 0:l.email)}})])])])}},{key:"header-divider",type:"divider"},{label:o("Dashboard"),key:"dashboard",icon:a(ul)},{label:o("My Photos"),key:"photos",icon:a(St)},{label:o("Profile"),key:"profile",icon:a(al)},{label:o("Settings"),key:"settings",icon:a(el)},{label:o("Admin Panel"),key:"admin",icon:a(Ht),show:null==(e=t.profile)?void 0:e.is_admin},{key:"header-divider",type:"divider"},{label:o("Logout"),key:"logout",icon:a(qt)}]})),u=e=>{var l;switch(e){case"dashboard":case"photos":case"settings":s.push(`/user/${e}`);break;case"profile":s.push("/user/profile");break;case"admin":window.open(`${null==(l=n.configs)?void 0:l.app.url}/admin`);break;case"logout":t.removeToken(),t.setUserProfile({}),t.setIsLoggedIn(!1),window.location.href="/"}};return(e,l)=>(m(),z($(oe),{options:i.value,placement:"bottom-end","show-arrow":"",trigger:"click",class:"rounded-lg","on-select":u},{default:A((()=>[C($(ee),{circle:"",round:"",secondary:"",strong:""},{default:A((()=>{var e;return[C($(le),{round:"",size:"small",src:$(en).getUserAvatar(null==(e=$(t).profile)?void 0:e.avatar_url)},null,8,["src"])]})),_:1})])),_:1},8,["options"]))}}),ln={copyText:e=>navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e):(e=>new Promise(((t,l)=>{const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.opacity="0",document.body.appendChild(n),n.select();try{const e=document.execCommand("copy");document.body.removeChild(n),e?t():l("Copy command was unsuccessful")}catch(o){document.body.removeChild(n),l("Copy command failed")}})))(e)};function nn(e,t,l,n){return new(l||(l=Promise))((function(t,o){function r(e){try{i(n.next(e))}catch(yn){o(yn)}}function a(e){try{i(n.throw(e))}catch(yn){o(yn)}}function i(e){var n;e.done?t(e.value):(n=e.value,n instanceof l?n:new l((function(e){e(n)}))).then(r,a)}i((n=n.apply(e,[])).next())}))}function on(e){return nn(this,0,void 0,(function*(){const t=URL.createObjectURL(e),l=yield function(e){return nn(this,0,void 0,(function*(){return new Promise((function(t,l){const n=document.createElement("img");n.crossOrigin="anonymous",n.src=e,n.onload=function(e){const l=e.target;t(l)},n.onabort=l,n.onerror=l}))}))}(t);return yield function(e){return nn(this,0,void 0,(function*(){return new Promise((function(t,l){const n=document.createElement("canvas"),o=n.getContext("2d");if(o){const{width:r,height:a}=e;n.width=r,n.height=a,o.drawImage(e,0,0,r,a),n.toBlob((function(e){e?t(e):l("Cannot get blob from image element")}),"image/png",1)}}))}))}(l)}))}function rn(e){return nn(this,0,void 0,(function*(){const t={[e.type]:e},l=new ClipboardItem(t);yield navigator.clipboard.write([l])}))}function an(e){return nn(this,0,void 0,(function*(){const t=yield function(e){return nn(this,0,void 0,(function*(){const t=yield fetch(`${e}`);return yield t.blob()}))}(e);if(function(e){return e.type.includes("jpeg")}(t)){const e=yield on(t);return yield rn(e),t}if(function(e){return e.type.includes("png")}(t))return yield rn(t),t;throw new Error("Cannot copy this type of image to clipboard")}))}const sn=e=>an(e);const un=Le(ze());var dn,cn={exports:{}};dn||(dn=1,cn.exports=function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=t(e),n={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var l=100*e+t;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return l.default.locale(n,null,!0),n}(ze()));var pn,hn={exports:{}};pn||(pn=1,hn.exports={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],l=e%100;return"["+e+(t[(l-20)%10]||t[l]||t[0])+"]"}});var fn,vn={exports:{}};var mn=fn?vn.exports:(fn=1,vn.exports=function(e,t,l){e=e||{};var n=t.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r(e,t,l,o){return n.fromToBase(e,t,l,o)}l.en.relativeTime=o,n.fromToBase=function(t,n,r,a,i){for(var s,u,d,c=r.$locale().relativeTime||o,p=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=p.length,f=0;f<h;f+=1){var v=p[f];v.d&&(s=a?l(t).diff(r,v.d,!0):r.diff(t,v.d,!0));var m=(e.rounding||Math.round)(Math.abs(s));if(d=s>0,m<=v.r||!v.r){m<=1&&f>0&&(v=p[f-1]);var g=c[v.l];i&&(m=i(""+m)),u="string"==typeof g?g.replace("%d",m):g(m,n,v.l,d);break}}if(n)return u;var k=d?c.future:c.past;return"function"==typeof k?k(u):k.replace("%s",u)},n.to=function(e,t){return r(e,t,this,!0)},n.from=function(e,t){return r(e,t,this)};var a=function(e){return e.$u?l.utc():l()};n.toNow=function(e){return this.to(a(this),e)},n.fromNow=function(e){return this.from(a(this),e)}});const gn=Le(mn);var kn,wn={exports:{}};var yn,xn=kn?wn.exports:(kn=1,wn.exports=(yn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(e,t,l){var n=t.prototype,o=n.format;l.en.formats=yn,n.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var t,l=this.$locale().formats,n=(t=void 0===l?{}:l,e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,l,n){var o=n&&n.toUpperCase();return l||t[n]||yn[n]||t[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,l){return t||l.slice(1)}))})));return o.call(this,n)}}));const bn=Le(xn);var _n,Cn={exports:{}};var Mn=(_n||(_n=1,Cn.exports=function(){var e,t,l=1e3,n=6e4,o=36e5,r=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,i=31536e6,s=2628e6,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:i,months:s,days:r,hours:o,minutes:n,seconds:l,milliseconds:1,weeks:6048e5},c=function(e){return e instanceof k},p=function(e,t,l){return new k(e,l,t.$l)},h=function(e){return t.p(e)+"s"},f=function(e){return e<0},v=function(e){return f(e)?Math.ceil(e):Math.floor(e)},m=function(e){return Math.abs(e)},g=function(e,t){return e?f(e)?{negative:!0,format:""+m(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},k=function(){function f(e,t,l){var n=this;if(this.$d={},this.$l=l,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return p(e*d[h(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){n.$d[h(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var o=e.match(u);if(o){var r=o.slice(2).map((function(e){return null!=e?Number(e):0}));return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var m=f.prototype;return m.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,l){return t+(e.$d[l]||0)*d[l]}),0)},m.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=v(e/i),e%=i,this.$d.months=v(e/s),e%=s,this.$d.days=v(e/r),e%=r,this.$d.hours=v(e/o),e%=o,this.$d.minutes=v(e/n),e%=n,this.$d.seconds=v(e/l),e%=l,this.$d.milliseconds=e},m.toISOString=function(){var e=g(this.$d.years,"Y"),t=g(this.$d.months,"M"),l=+this.$d.days||0;this.$d.weeks&&(l+=7*this.$d.weeks);var n=g(l,"D"),o=g(this.$d.hours,"H"),r=g(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3,a=Math.round(1e3*a)/1e3);var i=g(a,"S"),s=e.negative||t.negative||n.negative||o.negative||r.negative||i.negative,u=o.format||r.format||i.format?"T":"",d=(s?"-":"")+"P"+e.format+t.format+n.format+u+o.format+r.format+i.format;return"P"===d||"-P"===d?"P0D":d},m.toJSON=function(){return this.toISOString()},m.format=function(e){var l=e||"YYYY-MM-DDTHH:mm:ss",n={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return l.replace(a,(function(e,t){return t||String(n[e])}))},m.as=function(e){return this.$ms/d[h(e)]},m.get=function(e){var t=this.$ms,l=h(e);return"milliseconds"===l?t%=1e3:t="weeks"===l?v(t/d[l]):this.$d[l],t||0},m.add=function(e,t,l){var n;return n=t?e*d[h(t)]:c(e)?e.$ms:p(e,this).$ms,p(this.$ms+n*(l?-1:1),this)},m.subtract=function(e,t){return this.add(e,t,!0)},m.locale=function(e){var t=this.clone();return t.$l=e,t},m.clone=function(){return p(this.$ms,this)},m.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},m.valueOf=function(){return this.asMilliseconds()},m.milliseconds=function(){return this.get("milliseconds")},m.asMilliseconds=function(){return this.as("milliseconds")},m.seconds=function(){return this.get("seconds")},m.asSeconds=function(){return this.as("seconds")},m.minutes=function(){return this.get("minutes")},m.asMinutes=function(){return this.as("minutes")},m.hours=function(){return this.get("hours")},m.asHours=function(){return this.as("hours")},m.days=function(){return this.get("days")},m.asDays=function(){return this.as("days")},m.weeks=function(){return this.get("weeks")},m.asWeeks=function(){return this.as("weeks")},m.months=function(){return this.get("months")},m.asMonths=function(){return this.as("months")},m.years=function(){return this.get("years")},m.asYears=function(){return this.as("years")},f}(),w=function(e,t,l){return e.add(t.years()*l,"y").add(t.months()*l,"M").add(t.days()*l,"d").add(t.hours()*l,"h").add(t.minutes()*l,"m").add(t.seconds()*l,"s").add(t.milliseconds()*l,"ms")};return function(l,n,o){e=o,t=o().$utils(),o.duration=function(e,t){var l=o.locale();return p(e,{$l:l},t)},o.isDuration=c;var r=n.prototype.add,a=n.prototype.subtract;n.prototype.add=function(e,t){return c(e)?w(this,e,1):r.bind(this)(e,t)},n.prototype.subtract=function(e,t){return c(e)?w(this,e,-1):a.bind(this)(e,t)}}}()),Cn.exports);const An=Le(Mn);function jn(e,t,l,n){const o=i();return y((()=>un(e,t,l,n).locale(o.locale))).value}un.extend(gn),un.extend(bn),un.extend(An),un.locale(localStorage.getItem("locale")||"zh-CN");const $n=H("photo",(()=>{const e=x(!1),t=x(!0),l=x({}),n=x(1),o=x([]),a=y((()=>o.value.every((e=>e.selected)))),i=y((()=>o.value.flatMap((e=>e.photos.filter((e=>e.selected)))))),{t:s}=w(),u=x(!1),h=x(!1),f=x(null),v=r();function m(r={}){!e.value&&t.value&&(e.value=!0,d({query:{page:n.value,per_page:40,...{...l.value,...r}}}).then((e=>{var l,n,r,a;t.value=(null==(l=e.data)?void 0:l.data.meta.current_page)!==(null==(n=e.data)?void 0:n.data.meta.last_page);const i=(null==(r=e.data)?void 0:r.data.data)||[];for(const t of i){const e=jn(t.created_at).format("L"),l=o.value.find((t=>t.date===e)),n={key:t.id.toString(),selected:!1,src:(null==(a=v.profile.options)?void 0:a.show_original_photos)?t.public_url:t.thumbnail_url||t.public_url,...t};if(l){l.photos.some((e=>e.id==t.id))||l.photos.push(n)}else o.value.push({date:e,photos:[n]})}})).finally((()=>{e.value=!1})))}function g(e){n.value=e}function k(){o.value=[]}function b(e){for(let t=o.value.length-1;t>=0;t--)for(let l=o.value[t].photos.length-1;l>=0;l--)if(e.includes(o.value[t].photos[l].key)&&(o.value[t].photos.splice(l,1),0===o.value[t].photos.length)){o.value.splice(t,1);break}}return{isLoading:e,hasMore:t,page:n,setPage:g,setQueries:function(e){l.value=e},queries:l,groups:o,selections:i,isAllSelected:a,fetchPhotos:m,resetPhotos:function(n={}){e.value=!1,t.value=!0,l.value=n||{},g(1),k(),m()},setGroups:function(e){o.value=e},toggleSelect:function(e){for(const t of o.value){const l=t.photos.find((t=>t.key===e));l&&(l.selected=!l.selected,t.selected=t.photos.every((e=>e.selected)))}},selectAll:function(){const e=!a.value;for(const t of o.value)t.selected=e,t.photos.forEach((t=>t.selected=e))},clearGroups:k,pushGroup:function(e,t){o.value.push({date:e,photos:t})},toggleSelectAllByGroup:function(e){const t=o.value.find((t=>t.date===e));t&&(t.selected=!t.selected,t.photos.forEach((e=>e.selected=t.selected)))},unselectAll:function(){o.value.forEach((e=>{e.selected=!1,e.photos.forEach((e=>e.selected=!1))}))},deletePhotos:b,copyImage:function(e){return sn(e)},copyLink:function(e){let t="";return i.value.forEach((l=>{var n;let o="thumbnail_url"===e?l.thumbnail_url:l.public_url;(null==(n=v.profile)?void 0:n.options)&&"encode_copied_url"in v.profile.options&&v.profile.options.encode_copied_url&&(o=encodeURI(o));const r={url:o,html:`<img src="${o}" alt="${l.key}" />`,bbcode:`[img]${o}[/img]`,markdown:`![${l.key}](${o})`,markdown_with_link:`[![${l.key}](${o})](${o})`,thumbnail_url:l.thumbnail_url}[e];t+=r+"\r\n"})),ln.copyText(t.replace(/\r\n$/,""))},openPhoto:function(e){const t=e;window.open(t.public_url||e.src)},deleteSelectedPhotos:async function(){return c({body:i.value.map((e=>e.id))}).then((e=>(b(i.value.map((e=>e.key))),v.fetchUserProfile(),e)))},editModalActive:u,setEditModalActive:function(e){u.value=e},shareModalActive:h,setShareModalActive:function(e){h.value=e},albumSelectorRef:f,setAlbumSelectorRef:function(e){f.value=e},selectedToAlbum:async function(e){const t=e.map((e=>p({path:{id:e.id},body:i.value.map((e=>e.id))})));return Promise.all(t)}}})),En=H("photoSelector",(()=>{const e=x(!1),t=x(!0),l=x({}),n=x(1),o=x([]),a=y((()=>o.value.every((e=>e.selected)))),i=y((()=>o.value.flatMap((e=>e.photos.filter((e=>e.selected)))))),s=r();function u(r={}){!e.value&&t.value&&(e.value=!0,d({query:{page:n.value,per_page:40,...{...l.value,...r}}}).then((e=>{var l,n,r,a;t.value=(null==(l=e.data)?void 0:l.data.meta.current_page)!==(null==(n=e.data)?void 0:n.data.meta.last_page);const i=(null==(r=e.data)?void 0:r.data.data)||[];for(const t of i){const e=jn(t.created_at).format("L"),l=o.value.find((t=>t.date===e)),n={key:t.id.toString(),selected:!1,src:(null==(a=s.profile.options)?void 0:a.show_original_photos)?t.public_url:t.thumbnail_url||t.public_url,...t};if(l){l.photos.some((e=>e.id==t.id))||l.photos.push(n)}else o.value.push({date:e,photos:[n]})}})).finally((()=>{e.value=!1})))}function c(e){n.value=e}function p(){o.value=[]}return{isLoading:e,hasMore:t,page:n,setPage:c,setQueries:function(e){l.value=e},queries:l,groups:o,selections:i,isAllSelected:a,fetchPhotos:u,resetPhotos:function(n={}){e.value=!1,t.value=!0,l.value=n||{},c(1),p(),u()},setGroups:function(e){o.value=e},toggleSelect:function(e){for(const t of o.value){const l=t.photos.find((t=>t.key===e));l&&(l.selected=!l.selected,t.selected=t.photos.every((e=>e.selected)))}},selectAll:function(){const e=!a.value;for(const t of o.value)t.selected=e,t.photos.forEach((t=>t.selected=e))},clearGroups:p,pushGroup:function(e,t){o.value.push({date:e,photos:t})},toggleSelectAllByGroup:function(e){const t=o.value.find((t=>t.date===e));t&&(t.selected=!t.selected,t.photos.forEach((e=>e.selected=t.selected)))},unselectAll:function(){o.value.forEach((e=>{e.selected=!1,e.photos.forEach((e=>e.selected=!1))}))}}})),Sn=H("uploadQueue",(()=>{const e=x([]),t=x(!1),l=x(0);return{fileQueue:e,showQueue:t,currentUploads:l,hasFiles:()=>e.value.length>0,isUploading:()=>e.value.some((e=>"uploading"===e.status)),uploadingCount:()=>e.value.filter((e=>"uploading"===e.status)).length,overallProgress:()=>{const t=e.value.filter((e=>"uploading"===e.status));if(0===t.length)return 0;const l=t.reduce(((e,t)=>e+t.progress),0);return Math.round(l/t.length)},addFiles:function(t){e.value.push(...t)},removeFile:function(t){const l=e.value.findIndex((e=>e.id===t));-1!==l&&e.value.splice(l,1)},updateFileStatus:function(t,l,n,o=null,r=null){const a=e.value.find((e=>e.id===t));a&&(a.status=l,a.progress=n,null!==o&&(a.error=o),null!==r&&(a.response=r))},updateFileFormData:function(t,l){const n=e.value.find((e=>e.id===t));n&&(n.formData=l)},updateFileThumbnail:function(t,l){const n=e.value.find((e=>e.id===t));if(n){n.thumbnail=l;const o=e.value.findIndex((e=>e.id===t));-1!==o&&(e.value[o]={...e.value[o]})}},clearQueue:function(){e.value=e.value.filter((e=>"uploading"===e.status||"pending"===e.status))},toggleQueue:function(){t.value=!t.value},setShowQueue:function(e){t.value=e},incrementCurrentUploads:function(){l.value++},decrementCurrentUploads:function(){l.value>0&&l.value--}}}));const Un={all:Ln=Ln||new Map,on:function(e,t){var l=Ln.get(e);l?l.push(t):Ln.set(e,[t])},off:function(e,t){var l=Ln.get(e);l&&(t?l.splice(l.indexOf(t)>>>0,1):Ln.set(e,[]))},emit:function(e,t){var l=Ln.get(e);l&&l.slice().map((function(e){e(t)})),(l=Ln.get("*"))&&l.slice().map((function(l){l(e,t)}))}};var Ln;const zn={TRIGGER_UPLOAD_BUTTON:"trigger-upload-button",OPEN_UPLOAD_QUEUE:"open-upload-queue"};const Bn=new class{constructor(){t(this,"registered",!1),t(this,"pasteHandler",null)}register(e){return!this.registered&&(this.pasteHandler=e,document.addEventListener("paste",e),this.registered=!0,!0)}unregister(){return!(!this.registered||!this.pasteHandler)&&(document.removeEventListener("paste",this.pasteHandler),this.pasteHandler=null,this.registered=!1,!0)}isRegistered(){return this.registered}openUploadQueue(){Un.emit(zn.OPEN_UPLOAD_QUEUE)}};const On=new class{constructor(){t(this,"registered",!1),t(this,"dragEnterHandler",null),t(this,"dragOverHandler",null),t(this,"dragLeaveHandler",null),t(this,"dropHandler",null),t(this,"dragCounter",0),t(this,"config",{})}register(e,t={}){return!this.registered&&(this.config={dragText:t.dragText||"拖拽文件到此处上传",dragSubtext:t.dragSubtext||"支持图片格式: jpg, png, gif, webp",...t},this.dragEnterHandler=e=>{e.preventDefault(),this.dragCounter++,1===this.dragCounter&&this.showDragOverlay()},this.dragOverHandler=e=>{e.preventDefault();const t=e;t.dataTransfer&&(t.dataTransfer.dropEffect="copy")},this.dragLeaveHandler=e=>{e.preventDefault(),this.dragCounter--,0===this.dragCounter&&this.hideDragOverlay()},this.dropHandler=t=>{var l;t.preventDefault(),this.dragCounter=0,this.hideDragOverlay();const n=null==(l=t.dataTransfer)?void 0:l.files;n&&n.length>0&&e(n)},document.addEventListener("dragenter",this.dragEnterHandler),document.addEventListener("dragover",this.dragOverHandler),document.addEventListener("dragleave",this.dragLeaveHandler),document.addEventListener("drop",this.dropHandler),this.registered=!0,!0)}unregister(){return!!this.registered&&(this.dragEnterHandler&&(document.removeEventListener("dragenter",this.dragEnterHandler),this.dragEnterHandler=null),this.dragOverHandler&&(document.removeEventListener("dragover",this.dragOverHandler),this.dragOverHandler=null),this.dragLeaveHandler&&(document.removeEventListener("dragleave",this.dragLeaveHandler),this.dragLeaveHandler=null),this.dropHandler&&(document.removeEventListener("drop",this.dropHandler),this.dropHandler=null),this.hideDragOverlay(),this.dragCounter=0,this.registered=!1,!0)}isRegistered(){return this.registered}showDragOverlay(){let e=document.getElementById("drag-drop-overlay");if(!e){e=document.createElement("div"),e.id="drag-drop-overlay",e.innerHTML=`\n        <div class="drag-drop-content">\n          <div class="drag-drop-icon">\n            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z" fill="currentColor"/>\n              <path d="M12 14L8 10H11V6H13V10H16L12 14Z" fill="currentColor"/>\n            </svg>\n          </div>\n          <div class="drag-drop-text">${this.config.dragText}</div>\n          <div class="drag-drop-subtext">${this.config.dragSubtext}</div>\n        </div>\n      `,e.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.8);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 999999;\n        backdrop-filter: blur(4px);\n        opacity: 0;\n        transition: opacity 0.3s ease;\n        pointer-events: none;\n      ";const t=e.querySelector(".drag-drop-content");t&&(t.style.cssText="\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          color: white;\n          text-align: center;\n          padding: 40px;\n          border: 3px dashed rgba(255, 255, 255, 0.5);\n          border-radius: 12px;\n          background: rgba(255, 255, 255, 0.1);\n          backdrop-filter: blur(8px);\n          max-width: 400px;\n          animation: dragBounce 0.6s ease-out;\n        ");const l=e.querySelector(".drag-drop-icon");l&&(l.style.cssText="\n          margin-bottom: 16px;\n          opacity: 0.8;\n        ");const n=e.querySelector(".drag-drop-text");n&&(n.style.cssText="\n          font-size: 20px;\n          font-weight: 600;\n          margin-bottom: 8px;\n        ");const o=e.querySelector(".drag-drop-subtext");o&&(o.style.cssText="\n          font-size: 14px;\n          opacity: 0.7;\n        ");const r=document.createElement("style");r.textContent="\n        @keyframes dragBounce {\n          0% { transform: scale(0.8); opacity: 0; }\n          50% { transform: scale(1.05); }\n          100% { transform: scale(1); opacity: 1; }\n        }\n      ",document.head.appendChild(r),document.body.appendChild(e)}setTimeout((()=>{e&&(e.style.opacity="1")}),10)}hideDragOverlay(){const e=document.getElementById("drag-drop-overlay");e&&(e.style.opacity="0",setTimeout((()=>{e.parentNode&&e.parentNode.removeChild(e)}),300))}openUploadQueue(){Un.emit(zn.OPEN_UPLOAD_QUEUE)}},Hn={class:"image-uploader"},Fn={class:"flex justify-between mb-4"},Dn={class:"space-x-2"},Qn={key:0,class:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},Yn={class:"mb-3"},Tn={class:"flex space-x-2"},Pn={key:0,class:"mt-3"},Rn={class:"mt-2 space-y-1"},In={class:"ml-2 text-gray-500"},qn={key:1,class:"mb-4 text-sm text-gray-500"},Nn={key:0,class:"py-4 text-center text-gray-500"},Gn={class:"flex items-center"},Vn={class:"w-16 h-16 mr-3 overflow-hidden rounded-md bg-gray-200 dark:bg-gray-700 flex items-center justify-center"},Wn=["src","alt"],Xn={class:"flex-1 min-w-0"},Jn={class:"text-sm font-medium truncate"},Zn={class:"text-xs text-gray-500"},Kn={class:"mt-1 h-6 flex items-center"},eo={key:0,class:"w-full"},to={key:1,class:"text-xs text-red-500 truncate"},lo={class:"cursor-help"},no={class:"tooltip-content"},oo=["onClick"],ro={key:2},ao={key:2,class:"text-xs text-green-500 flex items-center"},io={key:3,class:"text-xs text-gray-500 flex items-center"},so={class:"flex justify-between mt-2"},uo={key:0,class:"flex space-x-1"},co={class:"flex space-x-1"},po={key:0,class:"upload-indicator"},ho={class:"upload-indicator-text"},fo={key:0,class:"editor-wrapper"},vo={class:"cropper-wrapper"},mo={class:"flex flex-wrap justify-between mt-4 mb-4 gap-2 editor-section"},go={class:"space-x-1 flex flex-wrap gap-1 editor-buttons"},ko={class:"mb-4 ratio-section"},wo={class:"ml-1"},yo={class:"mb-4 filter-section"},xo={class:"mb-2 flex items-center"},bo={class:"inline-block w-20"},_o={class:"ml-2 w-10 text-right"},Co={class:"mb-2 flex items-center"},Mo={class:"inline-block w-20"},Ao={class:"ml-2 w-10 text-right"},jo={class:"mb-2 flex items-center"},$o={class:"inline-block w-20"},Eo={class:"ml-2 w-10 text-right"},So={class:"flex justify-end mt-4 space-x-2"},Uo={class:"flex justify-end mt-4"},Lo={class:"flex justify-end mt-4"},zo={key:0},Bo={class:"mb-4"},Oo={class:"text-sm text-gray-500 mb-2"},Ho={class:"flex justify-end mt-4"},Fo={class:"error-details-content"},Do={class:"text-red-500 mb-2"},Qo={class:"bg-gray-100 dark:bg-gray-800 p-3 rounded overflow-auto max-h-80 whitespace-pre-wrap break-all text-sm"},Yo=f({__name:"ImageUploader",props:{endpoint:{type:String,default:"/api/v2/upload"},maxFileSize:{type:Number,default:5242880},minFileSize:{type:Number,default:0},maxTotalFileSize:{type:Number,default:0},maxNumberOfFiles:{type:Number,default:0},minNumberOfFiles:{type:Number,default:0},allowedFileTypes:{type:Array,default:()=>[".jpg",".jpeg",".png",".gif",".bmp",".webp",".tif"]},concurrency:{type:Number,default:3},formData:{type:Object,default:()=>({})},headers:{type:Object,default:()=>({})},tip:{type:String,default:""},defaultStorage:{type:String,default:""},continueQueue:{type:Boolean,default:!0}},emits:["upload-success","upload-error","upload-progress","queue-change"],setup(e,{expose:t,emit:n}){const a=e,i=n,s=o(),u=r(),d=l(),c=Sn(),p=re(),f=w(),k=x(null),b=x(null),M=x(!1),E=x(null),L=x(null),H=x(null),q=x({}),N=x(!1),G=x(null),V=x(!1),W=x(""),X=x(!1),K=x(""),te=x(!1),le=x([]),oe=x({}),Me=y((()=>c.fileQueue)),Ae=y({get:()=>c.showQueue,set:e=>c.setShowQueue(e)}),je=y({get:()=>c.currentUploads,set:e=>{e>c.currentUploads?c.incrementCurrentUploads():e<c.currentUploads&&c.decrementCurrentUploads()}}),$e=y((()=>c.hasFiles())),Ee=y((()=>c.isUploading())),Se=y((()=>c.uploadingCount())),Le=y((()=>c.overallProgress())),ze=y((()=>Me.value.some((e=>"success"===e.status)))),He=x("free"),Fe=y((()=>{if("free"===He.value)return;const[e,t]=He.value.split(":").map(Number);return e/t})),De=x(!1),Qe=x(!1),Ye=x(null),Te=()=>{var e,t,l,n;const o=null==(t=null==(e=u.profile)?void 0:e.options)?void 0:t.default_storage_id;if(o){if(((null==(l=d.group)?void 0:l.storages)||[]).some((e=>e.id===o)))return o}const r=(null==(n=d.group)?void 0:n.storages)||[];return r.length>0?r[0].id:void 0},Pe=x({storage_id:Te(),album_id:void 0,expired_at:void 0,"tags[]":[],is_public:!1}),Re=x({storage_id:void 0,album_id:void 0,expired_at:void 0,"tags[]":[],is_public:void 0}),Ie=x(null),Ne=x(null),Ge=y((()=>{var e;return(null==(e=d.group)?void 0:e.storages)||[]})),Ve=x([]);f.t("Please select storage location");const We=y((()=>s.isMobile?"100%":"450px")),Xe=y((()=>({height:`calc(${s.isMobile?"80vh":"100vh"} - ${(s.isMobile?160:190)+(X.value?s.isMobile?120:160:0)}px)`,transition:"height 0.3s ease"}))),Je=x({total:0,success:0,failed:0});async function Ze(){if(u.isLoggedIn)try{const e=await h({query:{page:1,per_page:1e3}});e.data&&e.data.data&&(Ve.value=e.data.data.data)}catch(e){p.error(f.t("Failed to get albums, please try again"))}}function Ke(){u.isLoggedIn&&0===Ve.value.length&&Ze(),De.value=!0}function et(){if(null===Ye.value)return;const e=Ye.value;if(Qe.value=!1,!Re.value.storage_id)return p.error(f.t("Please select storage location")),void(Ye.value=null);const t=Me.value[e],l=JSON.parse(JSON.stringify(Re.value));t.formData=l,c.updateFileFormData(t.id,l),Ye.value=null,p.success(f.t("File settings saved"))}F((async()=>{a.defaultStorage&&(Pe.value.storage_id=a.defaultStorage),await Ze(),Bn.register(zt),On.register(Bt,{dragText:f.t("Drag files here to upload"),dragSubtext:a.tip})})),_(X,(()=>{R((()=>{const e=document.querySelector(".files-container .NScrollbar");e&&(null==e?void 0:e.__scrollbar)&&e.__scrollbar.sync()}))})),_((()=>{var e;return null==(e=u.profile)?void 0:e.options}),(()=>{Pe.value.storage_id=Te()}),{deep:!0}),_((()=>{var e;return null==(e=d.group)?void 0:e.storages}),(()=>{var e;const t=Pe.value.storage_id;if(t){((null==(e=d.group)?void 0:e.storages)||[]).some((e=>e.id===t))||(Pe.value.storage_id=Te())}}),{deep:!0}),D((()=>{yt(),Object.values(oe.value).forEach((e=>{e&&e.cancel&&e.cancel(f.t("Component unmounted"))})),oe.value={},Bn.unregister(),On.unregister()}));const tt=x({brightness:100,contrast:100,saturate:100,rotate:0,flipH:1,flipV:1});function lt(e){var t,l,n;const o=e.target;if(!(null==(t=o.files)?void 0:t.length))return;const r=Array.from(o.files);if(a.maxNumberOfFiles>0&&Me.value.length+r.length>a.maxNumberOfFiles)return p.error(f.t("You can upload a maximum of {count} files",{count:a.maxNumberOfFiles})),void(o.value="");const s=r.filter((e=>{var t;const l="."+(null==(t=e.name.split(".").pop())?void 0:t.toLowerCase());return!a.allowedFileTypes.includes(l)&&!a.allowedFileTypes.includes("*")}));if(s.length>0){p.error(f.t("Unsupported file type")+": "+s.map((e=>e.name)).join(", "));if(0===r.filter((e=>!s.includes(e))).length)return void(o.value="")}const d=[];r.forEach((e=>{if(a.maxFileSize>0&&e.size>a.maxFileSize)return void p.error(f.t("File {filename} exceeds the maximum limit of {size}",{filename:e.name,size:rt(a.maxFileSize)}));if(a.minFileSize>0&&e.size<a.minFileSize)return void p.error(f.t("File {filename} is less than the minimum limit of {size}",{filename:e.name,size:rt(a.minFileSize)}));const t=URL.createObjectURL(e),l={id:Be(),file:e,objectUrl:t,thumbnail:null,status:"pending",progress:0,error:null,response:null};ot(l),d.push(l)})),d.length>0&&c.addFiles(d),Ae.value=!0,o.value="",i("queue-change",Me.value),(null==(n=null==(l=u.profile)?void 0:l.options)?void 0:n.auto_upload_after_select)&&R((()=>{xt()}))}function ot(e){const t=new Image;t.onload=()=>{const l=document.createElement("canvas"),n=l.getContext("2d");let o=t.width,r=t.height;o>r?o>160&&(r*=160/o,o=160):r>160&&(o*=160/r,r=160),l.width=o,l.height=r,n&&(n.drawImage(t,0,0,o,r),e.thumbnail=l.toDataURL("image/jpeg"),c.updateFileThumbnail(e.id,e.thumbnail))},t.onerror=()=>{},t.src=e.objectUrl}function rt(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB"][t]}function it(){var e;null==(e=k.value)||e.click()}function st(){[...Me.value].forEach((e=>{"uploading"===e.status&&q.value[e.id]&&(q.value[e.id].cancel(f.t("User cancelled upload")),delete q.value[e.id],je.value--),URL.revokeObjectURL(e.objectUrl),c.removeFile(e.id)})),Me.value.length>0&&c.clearQueue(),i("queue-change",Me.value)}function dt({coordinates:e,canvas:t}){H.value={coordinates:e,canvas:t}}function ct(){M.value=!1,E.value=null,L.value=null,H.value=null,ht()}function pt(){const e=`brightness(${tt.value.brightness}%) contrast(${tt.value.contrast}%) saturate(${tt.value.saturate}%)`;[".vue-advanced-cropper__image",".vue-preview-image",".vue-rectangle-stencil__preview-image",".vue-circle-stencil__preview-image",".vue-advanced-cropper__image-wrapper img"].forEach((t=>{document.querySelectorAll(t).forEach((t=>{try{t.style.filter=e}catch(yn){}}))})),R((()=>{try{if(b.value&&b.value.$el){b.value.$el.querySelectorAll("img").forEach((t=>{t.style.filter=e}))}}catch(yn){}}))}function ht(){tt.value={brightness:100,contrast:100,saturate:100,rotate:0,flipH:1,flipV:1},pt()}function ft(){if(!H.value||null===E.value||!L.value)return void(M.value=!1);const e=H.value.canvas,t=document.createElement("canvas");t.width=e.width,t.height=e.height;const l=t.getContext("2d");l?(l.filter=`brightness(${tt.value.brightness}%) contrast(${tt.value.contrast}%) saturate(${tt.value.saturate}%)`,l.drawImage(e,0,0),t.toBlob((e=>{var t;if(!e||null===E.value)return;const l=(null==(t=L.value)?void 0:t.file.name)||"",n=l.split(".").pop()||"jpg",o=new File([e],l,{type:`image/${n}`}),r=E.value,a=Me.value[r];URL.revokeObjectURL(a.objectUrl);const s=URL.createObjectURL(o),u={...a,file:o,objectUrl:s,thumbnail:null,status:"pending",progress:0,error:null,response:null};Me.value[r]=u,ot(u),M.value=!1,E.value=null,L.value=null,H.value=null,ht(),i("queue-change",Me.value)}),"image/jpeg",.95)):M.value=!1}function mt(e,t=!1){const l=Me.value[e];if("success"===l.status||"uploading"===l.status)return;if(je.value>=a.concurrency)return void p.info(f.t("Current uploads: {count}, please wait",{count:a.concurrency}));const n=new FormData;n.append("file",l.file);const o=function(e){const t={...{...a.formData},...{...Pe.value},...e.formData||{}};return Object.fromEntries(Object.entries(t).filter((([e,t])=>null!=t)))}(l);for(const a in o)if(Array.isArray(o[a]))for(const e of o[a]){const t=a.endsWith("[]")?a:`${a}[]`;n.append(t,e)}else"boolean"==typeof o[a]?n.append(a,o[a]?"1":"0"):n.append(a,o[a]);const r=Oe.CancelToken.source();q.value[l.id]=r,c.updateFileStatus(l.id,"uploading",0),je.value++,Oe.post(a.endpoint,n,{headers:{...a.headers,"Content-Type":"multipart/form-data"},cancelToken:r.token,onUploadProgress:e=>{if(e.total){const t=Math.round(100*e.loaded/e.total);c.updateFileStatus(l.id,"uploading",t),i("upload-progress",l,t)}}}).then((e=>{const n=e.data;if(n&&"error"===n.status)return c.updateFileStatus(l.id,"error",0,n.message||f.t("Upload failed")),delete q.value[l.id],je.value--,t&&Je.value.failed++,i("upload-error",l,new Error(n.message||f.t("Upload failed"))),p.error(f.t("File {filename} upload failed: {reason}",{filename:l.file.name,reason:n.message||f.t("Upload failed")})),void(t&&a.continueQueue&&(At(),gt()));c.updateFileStatus(l.id,"success",100,null,n),delete q.value[l.id],je.value--,t&&Je.value.success++,i("upload-success",l,n),t&&a.continueQueue&&(At(),gt())})).catch((e=>{if(!Oe.isCancel(e)){if(e.response&&422===e.response.status){const n=e.response.data;let o=f.t("Form validation failed");if(n&&n.message)o=n.message;else if(n&&n.data&&n.data.errors){const e=Object.keys(n.data.errors)[0];e&&n.data.errors[e].length>0&&(o=n.data.errors[e][0])}c.updateFileStatus(l.id,"error",0,o),t&&Je.value.failed++,p.error(f.t("File {filename} upload failed: {reason}",{filename:l.file.name,reason:o}))}else c.updateFileStatus(l.id,"error",0,e.message||f.t("Upload failed")),t&&Je.value.failed++,p.error(f.t("File {filename} upload failed: {reason}",{filename:l.file.name,reason:e.message||f.t("Upload failed")}));delete q.value[l.id],je.value--,t&&a.continueQueue&&(At(),gt()),i("upload-error",l,e)}}))}function gt(){Je.value.total>0&&Je.value.success+Je.value.failed>=Je.value.total&&0===je.value&&(Je.value.success>0&&(Je.value.failed>0?p.success(f.t("Upload completed: {success} succeeded, {failed} failed",{success:Je.value.success,failed:Je.value.failed})):p.success(f.t("All {count} files uploaded successfully",{count:Je.value.success}))),setTimeout((()=>{Je.value={total:0,success:0,failed:0}}),500))}function wt(e){const t=Me.value[e];"uploading"===t.status&&(q.value[t.id]&&(q.value[t.id].cancel(f.t("User cancelled upload")),delete q.value[t.id],je.value--),c.updateFileStatus(t.id,"pending",0,f.t("Upload cancelled")))}function yt(){Me.value.forEach(((e,t)=>{"uploading"===e.status&&wt(t)}))}function xt(){const e=Me.value.filter((e=>"pending"===e.status));if(0===e.length)return void p.info(f.t("No files to upload"));Je.value={total:e.length,success:0,failed:0};const t=Math.min(a.concurrency,e.length);for(let l=0;l<t;l++){const e=Me.value.findIndex((e=>"pending"===e.status));-1!==e&&mt(e,!0)}}function bt(e){b.value&&b.value.rotate(e)}function _t(e){b.value&&("horizontal"===e?b.value.flip(!0,!1):b.value.flip(!1,!0))}function Mt(){De.value=!1,Pe.value.storage_id?p.success(f.t("Global settings saved")):p.error(f.t("Please select storage location"))}function At(){if(je.value>=a.concurrency)return;const e=Me.value.findIndex((e=>"pending"===e.status));-1!==e&&setTimeout((()=>{mt(e,!0)}),100)}function $t(e){mt(e,!1)}function Et(e){e.stopPropagation(),e.preventDefault(),Ae.value=!0}function St(){const e=Me.value.filter((e=>"success"===e.status&&e.response&&e.response.data&&e.response.data.public_url));if(0===e.length)return void p.error(f.t("No uploaded images found"));const t=e.map((e=>e.response.data.public_url)).join("\n");ln.copyText(t).then((()=>{p.success(f.t("Copied {count} image links",{count:e.length}))})).catch((()=>{p.error(f.t("Failed to copy"))}))}function Ut(e){if(!G.value||!G.value.response||!G.value.response.data)return"";const t=G.value.response.data.public_url,l=G.value.response.data.name||G.value.file.name;switch(e){case"html":return`<img src="${t}" alt="${l}" />`;case"markdown":return`![${l}](${t})`;case"markdown_with_link":return`[![${l}](${t})](${t})`;case"bbcode":return`[img]${t}[/img]`;default:return t}}function Lt(e){ln.copyText(e).then((()=>{p.success(f.t("Copied to clipboard"))})).catch((()=>{p.error(f.t("Failed to copy"))}))}function zt(e){var t,l;const n=e;if(!(null==(t=d.configs)?void 0:t.app.guest_upload)&&!u.isLoggedIn)return void p.error(f.t("Please log in first before uploading"));const o=null==(l=n.clipboardData)?void 0:l.items;if(!o)return;let r=!1;for(let a=0;a<o.length;a++){const e=o[a];if(-1!==e.type.indexOf("image")){r=!0;const t=e.getAsFile();if(t){const e=new DataTransfer;e.items.add(t);const l=document.createElement("input");l.type="file",l.files=e.files,lt({target:l}),n.preventDefault();break}}}r&&(Ae.value=!0)}function Bt(e){var t;if(!(null==(t=d.configs)?void 0:t.app.guest_upload)&&!u.isLoggedIn)return void p.error(f.t("Please login before uploading images"));if(!e||0===e.length)return;const l=new DataTransfer;for(let o=0;o<e.length;o++)l.items.add(e[o]);const n=document.createElement("input");n.type="file",n.files=l.files,lt({target:n}),Ae.value=!0}function Ot(){if(!K.value.trim())return void p.error(f.t("Please enter image URLs"));const e=K.value.split("\n").map((e=>e.trim())).filter((e=>e.length>0));if(0===e.length)return void p.error(f.t("No valid URLs found"));te.value=!0,le.value=e.map((e=>({url:e,status:"pending"})));const t=e.map(((e,t)=>async function(e,t){try{le.value[t].status="downloading";const l=Oe.CancelToken.source();oe.value[e]=l;if(!/^https?:\/\/.+\.(jpg|jpeg|png|gif|bmp|webp|tif)(\?.*)?$/i.test(e))throw new Error(f.t("Invalid image URL format"));const n=await Oe.get(e,{responseType:"blob",timeout:3e4,cancelToken:l.token,headers:{Accept:"image/*","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"}});if(!n.data.type.startsWith("image/"))throw new Error(f.t("Downloaded file is not a valid image"));let o=new URL(e).pathname.split("/").pop()||`remote_image_${Date.now()}.jpg`;if(!o.includes(".")){const e=n.data.type;o+=`.${e.split("/")[1]||"jpg"}`}const r=new File([n.data],o,{type:n.data.type});if(a.maxFileSize>0&&r.size>a.maxFileSize)throw new Error(f.t("File size exceeds the maximum limit of {size}",{size:rt(a.maxFileSize)}));if(a.minFileSize>0&&r.size<a.minFileSize)throw new Error(f.t("File size is less than the minimum limit of {size}",{size:rt(a.minFileSize)}));const s=URL.createObjectURL(r),u={id:Be(),file:r,objectUrl:s,thumbnail:null,status:"pending",progress:0,error:null,response:null};ot(u),c.addFiles([u]),le.value[t].status="success",i("queue-change",Me.value),delete oe.value[e]}catch(l){if(Oe.isCancel(l))return;le.value[t].status="error",le.value[t].error=l.message||f.t("Download failed"),delete oe.value[e]}}(e,t)));Promise.allSettled(t).finally((()=>{te.value=!1,setTimeout((()=>{le.value=[],K.value="",X.value=!1}),2e3)}))}function Ht(e){switch(e){case"pending":return f.t("Waiting");case"downloading":return f.t("Downloading");case"success":return f.t("Success");case"error":return f.t("Failed");default:return""}}function Ft(e){switch(e){case"pending":default:return"text-gray-500";case"downloading":return"text-blue-500";case"success":return"text-green-500";case"error":return"text-red-500"}}return t({selectFiles:it,uploadAll:xt,cancelAllUploads:yt,removeAll:st,getFiles:()=>Me.value,showUploadQueue:()=>{Ae.value=!0},getUploadingCount:()=>Se.value,isUploading:()=>Ee.value}),Q((()=>{yt()})),(e,t)=>(m(),v("div",Hn,[g("input",{ref_key:"fileInputRef",ref:k,type:"file",multiple:"",accept:"image/*",class:"hidden",onChange:lt},null,544),C($(ae),{show:Ae.value,"onUpdate:show":t[3]||(t[3]=e=>Ae.value=e),width:We.value,height:$(s).isMobile?"80%":"",placement:$(s).isMobile?"bottom":"right","mask-closable":!1,class:"upload-queue-drawer"},{default:A((()=>[C($(ie),{title:e.$t("Upload Queue"),closable:"","native-scrollbar":!1,class:"overflow-hidden"},{default:A((()=>[g("div",Fn,[g("div",Dn,[C($(se),{placement:"bottom",trigger:"hover"},{trigger:A((()=>[C($(ee),{type:"default",size:"small",onClick:it},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(Ct))])),_:1})])),_:1})])),default:A((()=>[O(" "+S(e.$t("Select")),1)])),_:1}),C($(se),{placement:"bottom",trigger:"hover"},{trigger:A((()=>[C($(ee),{type:"default",size:"small",onClick:t[0]||(t[0]=e=>X.value=!X.value)},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(kt))])),_:1})])),_:1})])),default:A((()=>[O(" "+S(e.$t("Remote Download")),1)])),_:1}),C($(se),{placement:"bottom",trigger:"hover"},{trigger:A((()=>[C($(ee),{type:"primary",size:"small",disabled:!$e.value||Ee.value,onClick:xt},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(at))])),_:1})])),_:1},8,["disabled"])])),default:A((()=>[O(" "+S(e.$t("All Upload")),1)])),_:1}),C($(se),{placement:"bottom",trigger:"hover"},{trigger:A((()=>[C($(ee),{type:"error",size:"small",disabled:!$e.value,onClick:st},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(Pl))])),_:1})])),_:1},8,["disabled"])])),default:A((()=>[O(" "+S(e.$t("All Delete")),1)])),_:1}),C($(se),{placement:"bottom",trigger:"hover"},{trigger:A((()=>[C($(ee),{type:"warning",size:"small",disabled:!Ee.value,onClick:yt},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(nt))])),_:1})])),_:1},8,["disabled"])])),default:A((()=>[O(" "+S(e.$t("All Cancel")),1)])),_:1}),ze.value?(m(),z($(se),{key:0,placement:"bottom",trigger:"hover"},{trigger:A((()=>[C($(ee),{type:"info",size:"small",onClick:St},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(vt))])),_:1})])),_:1})])),default:A((()=>[O(" "+S(e.$t("Copy All Links")),1)])),_:1})):j("",!0)]),g("div",null,[C($(se),{placement:"bottom",trigger:"hover"},{trigger:A((()=>[C($(ee),{type:"info",size:"small",onClick:Ke},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(Cl))])),_:1})])),_:1})])),default:A((()=>[O(" "+S(e.$t("Global Settings")),1)])),_:1})])]),X.value?(m(),v("div",Qn,[g("div",Yn,[C($(ne),{class:"text-sm font-medium"},{default:A((()=>[O(S(e.$t("Remote Download")),1)])),_:1})]),C($(ue),{value:K.value,"onUpdate:value":t[1]||(t[1]=e=>K.value=e),type:"textarea",placeholder:e.$t("Please enter image URLs, one per line"),autosize:{minRows:3,maxRows:8},class:"mb-3"},null,8,["value","placeholder"]),g("div",Tn,[C($(ee),{type:"primary",size:"small",loading:te.value,disabled:!K.value.trim(),onClick:Ot},{default:A((()=>[O(S(e.$t("Start Download")),1)])),_:1},8,["loading","disabled"]),C($(ee),{type:"default",size:"small",onClick:t[2]||(t[2]=e=>X.value=!1)},{default:A((()=>[O(S(e.$t("Collapse")),1)])),_:1})]),le.value.length>0?(m(),v("div",Pn,[C($(ne),{class:"text-sm text-gray-600"},{default:A((()=>[O(S(e.$t("Download Progress"))+":",1)])),_:1}),g("div",Rn,[(m(!0),v(U,null,B(le.value,((e,t)=>(m(),v("div",{key:t,class:"text-xs"},[g("span",{class:I(Ft(e.status))},S(e.url),3),g("span",In,S(Ht(e.status)),1)])))),128))])])):j("",!0)])):j("",!0),a.tip?(m(),v("div",qn,S(a.tip),1)):j("",!0),g("div",{class:"files-container",style:Y(Xe.value)},[C($(de),null,{default:A((()=>[$e.value?j("",!0):(m(),v("div",Nn,S(e.$t("No files, please select files to upload")),1)),(m(!0),v(U,null,B(Me.value,((t,l)=>(m(),v("div",{key:t.id,class:"file-item mb-4 p-3 rounded-lg bg-gray-50 dark:bg-gray-800"},[g("div",Gn,[g("div",Vn,[t.thumbnail?(m(),v("img",{key:0,src:t.thumbnail,alt:t.file.name,class:"w-full h-full object-cover"},null,8,Wn)):(m(),z($(Z),{key:1,size:"24",class:"text-gray-400"},{default:A((()=>[C($(jt))])),_:1}))]),g("div",Xn,[g("div",Jn,S(t.file.name),1),g("div",Zn,S(rt(t.file.size)),1),g("div",Kn,["uploading"===t.status?(m(),v("div",eo,[C($(J),{percentage:t.progress,"show-indicator":!1,height:4,processing:""},null,8,["percentage"])])):j("",!0),"error"===t.status?(m(),v("div",to,[t.error&&t.error.length<=100?(m(),z($(se),{key:0,trigger:"hover",placement:"top",style:{"max-width":"300px"}},{trigger:A((()=>[g("span",lo,S(t.error),1)])),default:A((()=>[g("div",no,S(t.error),1)])),_:2},1024)):t.error?(m(),v("span",{key:1,class:"cursor-pointer underline",onClick:e=>{return l=t.error,W.value=l,void(V.value=!0);var l}},S(t.error.substring(0,50)+"..."),9,oo)):(m(),v("span",ro,S(e.$t("Upload Failed")),1))])):j("",!0),"success"===t.status?(m(),v("div",ao,S(e.$t("Upload Successful")),1)):j("",!0),"pending"===t.status?(m(),v("div",io,[C($(Z),{size:"14",class:"mr-1"},{default:A((()=>[C($(Ql))])),_:1}),O(" "+S(e.$t("Waiting for upload")),1)])):j("",!0)])])]),g("div",so,[g("div",null,["success"===t.status?(m(),v("div",uo,[C($(ee),{quaternary:"",circle:"",size:"small",title:e.$t("Copy URL"),onClick:P((e=>function(e){e.response&&e.response.data&&e.response.data.public_url?Lt(e.response.data.public_url):p.error(f.t("Image URL not available"))}(t)),["stop"])},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(vt))])),_:1})])),_:2},1032,["title","onClick"]),C($(ee),{quaternary:"",circle:"",size:"small",title:e.$t("Embed Codes"),onClick:P((e=>function(e){e.response&&e.response.data&&e.response.data.public_url?(G.value=e,N.value=!0):p.error(f.t("Image URL not available"))}(t)),["stop"])},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(ut))])),_:1})])),_:2},1032,["title","onClick"])])):j("",!0)]),g("div",co,[C($(ee),{quaternary:"",circle:"",size:"small",title:e.$t("Edit"),disabled:"uploading"===t.status,onClick:e=>function(e){E.value=e,L.value={...Me.value[e]},M.value=!0,He.value="free",R((()=>{pt()}))}(l)},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(nl))])),_:1})])),_:2},1032,["title","disabled","onClick"]),C($(ee),{quaternary:"",circle:"",size:"small",title:e.$t("Settings"),disabled:"uploading"===t.status,onClick:e=>function(e){u.isLoggedIn&&0===Ve.value.length&&Ze(),Ye.value=e;const t=Me.value[e];t.formData?Re.value={...t.formData}:Re.value={storage_id:Pe.value.storage_id,album_id:Pe.value.album_id,expired_at:Pe.value.expired_at,"tags[]":[...Pe.value["tags[]"]||[]],is_public:Pe.value.is_public},Qe.value=!0}(l)},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(Cl))])),_:1})])),_:2},1032,["title","disabled","onClick"]),C($(ee),{quaternary:"",circle:"",size:"small",title:e.$t("Upload"),disabled:"uploading"===t.status||"success"===t.status,onClick:e=>"error"===t.status?function(e){const t=Me.value[e];c.updateFileStatus(t.id,"pending",0,null),$t(e)}(l):$t(l)},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(at))])),_:1})])),_:2},1032,["title","disabled","onClick"]),C($(ee),{quaternary:"",circle:"",size:"small",title:e.$t("Cancel"),disabled:"uploading"!==t.status,onClick:e=>wt(l)},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(nt))])),_:1})])),_:2},1032,["title","disabled","onClick"]),C($(ee),{quaternary:"",circle:"",size:"small",title:e.$t("Delete"),disabled:"uploading"===t.status,onClick:e=>function(e){const t=Me.value[e];"uploading"===t.status&&wt(e),URL.revokeObjectURL(t.objectUrl),c.removeFile(t.id),i("queue-change",Me.value)}(l)},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(Pl))])),_:1})])),_:2},1032,["title","disabled","onClick"])])])])))),128))])),_:1})],4)])),_:1},8,["title"])])),_:1},8,["show","width","height","placement"]),(m(),z(T,{to:"body"},[$e.value&&!Ae.value?(m(),v("div",{key:0,class:"floating-queue-button",onMousedown:P(Et,["stop","prevent"]),onClick:P(Et,["stop","prevent"])},[C($(ce),{value:Se.value>0?Se.value:void 0,processing:Ee.value},{default:A((()=>[C($(ee),{circle:"",type:"primary"},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(at))])),_:1})])),_:1})])),_:1},8,["value","processing"]),Ee.value?(m(),v("div",po,[g("div",ho,S(e.$t("Uploading")),1),C($(J),{percentage:Le.value,"show-indicator":!1,processing:"",height:4},null,8,["percentage"])])):j("",!0)],32)):j("",!0)])),C($(pe),{show:M.value,"onUpdate:show":t[22]||(t[22]=e=>M.value=e),preset:"card",style:{width:"90%","max-width":"800px"},title:e.$t("Image Editing"),"mask-closable":!1},{default:A((()=>[L.value&&M.value?(m(),v("div",fo,[g("div",vo,[C($(Ue),{ref_key:"cropperRef",ref:b,class:"cropper",src:L.value.objectUrl,"stencil-props":{aspectRatio:Fe.value,handlers:{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0},movable:!0,resizable:!0},"image-restrictions":{minWidth:100,minHeight:100},"image-class":"custom-image","image-style":{filter:`brightness(${tt.value.brightness}%) contrast(${tt.value.contrast}%) saturate(${tt.value.saturate}%)`},onChange:dt},null,8,["src","stencil-props","image-style"])]),g("div",mo,[g("div",go,[C($(ee),{onClick:t[4]||(t[4]=e=>bt(-90)),size:"small"},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(vl))])),_:1})])),default:A((()=>[O(" "+S(e.$t("Rotate Left")),1)])),_:1}),C($(ee),{onClick:t[5]||(t[5]=e=>bt(90)),size:"small"},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(pl))])),_:1})])),default:A((()=>[O(" "+S(e.$t("Rotate Right")),1)])),_:1}),C($(ee),{onClick:t[6]||(t[6]=e=>_t("horizontal")),size:"small"},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(zl))])),_:1})])),default:A((()=>[O(" "+S(e.$t("Flip Horizontal")),1)])),_:1}),C($(ee),{onClick:t[7]||(t[7]=e=>_t("vertical")),size:"small"},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(Hl))])),_:1})])),default:A((()=>[O(" "+S(e.$t("Flip Vertical")),1)])),_:1}),C($(ee),{onClick:t[8]||(t[8]=e=>{b.value&&b.value.reset()}),size:"small"},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(vl))])),_:1})])),default:A((()=>[O(" "+S(e.$t("Reset Angle")),1)])),_:1}),C($(ee),{onClick:t[9]||(t[9]=e=>function(){if(b.value)try{const e=1.1;b.value.zoom(e)}catch(yn){}}()),size:"small"},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(qe))])),_:1})])),default:A((()=>[O(" "+S(e.$t("Zoom In")),1)])),_:1}),C($(ee),{onClick:t[10]||(t[10]=e=>function(){if(b.value)try{const e=.9;b.value.zoom(e)}catch(yn){}}()),size:"small"},{icon:A((()=>[C($(Z),null,{default:A((()=>[C($(kl))])),_:1})])),default:A((()=>[O(" "+S(e.$t("Zoom Out")),1)])),_:1})])]),t[58]||(t[58]=g("div",{class:"section-divider"},null,-1)),g("div",ko,[C($(he),{value:He.value,"onUpdate:value":t[18]||(t[18]=e=>He.value=e),name:"aspectRatio",class:"aspect-ratio-group"},{default:A((()=>[C($(ee),{quaternary:"free"!==He.value,type:"free"===He.value?"primary":"default",class:"aspect-ratio-btn",onClick:t[11]||(t[11]=e=>He.value="free")},{icon:A((()=>t[45]||(t[45]=[g("svg",{viewBox:"0 0 24 24",class:"aspect-ratio-icon"},[g("path",{fill:"currentColor",d:"M21,19V5c0-1.1-0.9-2-2-2H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14C20.1,21,21,20.1,21,19z M21,5v14H5V5H21z M17.2,12.5H15v-2h5v5h-2v-2.2l-3,3l-1.4-1.4L17.2,12.5z M6.8,12.5l3-3l1.4,1.4l-3,3H10v2H5v-5h2V12.5z"})],-1)]))),default:A((()=>[g("span",wo,S(e.$t("Free")),1)])),_:1},8,["quaternary","type"]),C($(ee),{quaternary:"1:1"!==He.value,type:"1:1"===He.value?"primary":"default",class:"aspect-ratio-btn",onClick:t[12]||(t[12]=e=>He.value="1:1")},{icon:A((()=>t[46]||(t[46]=[g("svg",{viewBox:"0 0 24 24",class:"aspect-ratio-icon"},[g("rect",{x:"5",y:"5",width:"14",height:"14",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)]))),default:A((()=>[t[47]||(t[47]=g("span",{class:"ml-1"},"1:1",-1))])),_:1,__:[47]},8,["quaternary","type"]),C($(ee),{quaternary:"4:3"!==He.value,type:"4:3"===He.value?"primary":"default",class:"aspect-ratio-btn",onClick:t[13]||(t[13]=e=>He.value="4:3")},{icon:A((()=>t[48]||(t[48]=[g("svg",{viewBox:"0 0 24 24",class:"aspect-ratio-icon"},[g("rect",{x:"3",y:"6",width:"18",height:"13.5",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)]))),default:A((()=>[t[49]||(t[49]=g("span",{class:"ml-1"},"4:3",-1))])),_:1,__:[49]},8,["quaternary","type"]),C($(ee),{quaternary:"16:9"!==He.value,type:"16:9"===He.value?"primary":"default",class:"aspect-ratio-btn",onClick:t[14]||(t[14]=e=>He.value="16:9")},{icon:A((()=>t[50]||(t[50]=[g("svg",{viewBox:"0 0 24 24",class:"aspect-ratio-icon"},[g("rect",{x:"2",y:"7",width:"20",height:"11.25",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)]))),default:A((()=>[t[51]||(t[51]=g("span",{class:"ml-1"},"16:9",-1))])),_:1,__:[51]},8,["quaternary","type"]),C($(ee),{quaternary:"16:10"!==He.value,type:"16:10"===He.value?"primary":"default",class:"aspect-ratio-btn",onClick:t[15]||(t[15]=e=>He.value="16:10")},{icon:A((()=>t[52]||(t[52]=[g("svg",{viewBox:"0 0 24 24",class:"aspect-ratio-icon"},[g("rect",{x:"2",y:"6",width:"20",height:"12.5",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)]))),default:A((()=>[t[53]||(t[53]=g("span",{class:"ml-1"},"16:10",-1))])),_:1,__:[53]},8,["quaternary","type"]),C($(ee),{quaternary:"2:3"!==He.value,type:"2:3"===He.value?"primary":"default",class:"aspect-ratio-btn",onClick:t[16]||(t[16]=e=>He.value="2:3")},{icon:A((()=>t[54]||(t[54]=[g("svg",{viewBox:"0 0 24 24",class:"aspect-ratio-icon"},[g("rect",{x:"8",y:"3",width:"8",height:"18",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)]))),default:A((()=>[t[55]||(t[55]=g("span",{class:"ml-1"},"2:3",-1))])),_:1,__:[55]},8,["quaternary","type"]),C($(ee),{quaternary:"3:2"!==He.value,type:"3:2"===He.value?"primary":"default",class:"aspect-ratio-btn",onClick:t[17]||(t[17]=e=>He.value="3:2")},{icon:A((()=>t[56]||(t[56]=[g("svg",{viewBox:"0 0 24 24",class:"aspect-ratio-icon"},[g("rect",{x:"3",y:"6",width:"18",height:"12",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)]))),default:A((()=>[t[57]||(t[57]=g("span",{class:"ml-1"},"3:2",-1))])),_:1,__:[57]},8,["quaternary","type"])])),_:1},8,["value"])]),t[59]||(t[59]=g("div",{class:"section-divider"},null,-1)),g("div",yo,[g("div",xo,[g("span",bo,S(e.$t("Brightness"))+":",1),C($(fe),{value:tt.value.brightness,"onUpdate:value":[t[19]||(t[19]=e=>tt.value.brightness=e),pt],min:0,max:200,step:5,class:"flex-1"},null,8,["value"]),g("span",_o,S(tt.value.brightness)+"%",1)]),g("div",Co,[g("span",Mo,S(e.$t("Contrast"))+":",1),C($(fe),{value:tt.value.contrast,"onUpdate:value":[t[20]||(t[20]=e=>tt.value.contrast=e),pt],min:0,max:200,step:5,class:"flex-1"},null,8,["value"]),g("span",Ao,S(tt.value.contrast)+"%",1)]),g("div",jo,[g("span",$o,S(e.$t("Saturation"))+":",1),C($(fe),{value:tt.value.saturate,"onUpdate:value":[t[21]||(t[21]=e=>tt.value.saturate=e),pt],min:0,max:200,step:5,class:"flex-1"},null,8,["value"]),g("span",Eo,S(tt.value.saturate)+"%",1)])])])):j("",!0),g("div",So,[C($(ee),{onClick:ht},{default:A((()=>[O(S(e.$t("Reset Filters")),1)])),_:1}),C($(ee),{onClick:ct},{default:A((()=>[O(S(e.$t("Cancel")),1)])),_:1}),C($(ee),{type:"primary",onClick:ft},{default:A((()=>[O(S(e.$t("Confirm")),1)])),_:1})])])),_:1},8,["show","title"]),C($(pe),{show:De.value,"onUpdate:show":t[29]||(t[29]=e=>De.value=e),preset:"card",style:{width:"90%","max-width":"600px"},title:e.$t("Upload Global Settings"),"mask-closable":!1},{default:A((()=>[C($(ve),{ref_key:"formRef",ref:Ie,model:Pe.value,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging"},{default:A((()=>[C($(me),{label:e.$t("Storage Location"),path:"storage_id"},{default:A((()=>[C($(ge),{value:Pe.value.storage_id,"onUpdate:value":t[23]||(t[23]=e=>Pe.value.storage_id=e),options:Ge.value,placeholder:e.$t("Please select storage location"),"label-field":"name","value-field":"id",filterable:""},null,8,["value","options","placeholder"])])),_:1},8,["label"]),$(u).isLoggedIn?(m(),z($(me),{key:0,label:e.$t("Album"),path:"album_id"},{default:A((()=>[C($(ge),{value:Pe.value.album_id,"onUpdate:value":t[24]||(t[24]=e=>Pe.value.album_id=e),options:Ve.value,placeholder:e.$t("Please select album"),"label-field":"name","value-field":"id",filterable:"",clearable:""},null,8,["value","options","placeholder"])])),_:1},8,["label"])):j("",!0),C($(me),{label:e.$t("Expiration Time"),path:"expired_at"},{default:A((()=>[C($(ke),{"formatted-value":Pe.value.expired_at,"onUpdate:formattedValue":t[25]||(t[25]=e=>Pe.value.expired_at=e),type:"datetime",placeholder:e.$t("Select expiration time"),"is-date-disabled":e=>e<Date.now(),"value-format":"yyyy-MM-dd HH:mm:ss",clearable:"",style:{width:"100%"}},null,8,["formatted-value","placeholder","is-date-disabled"])])),_:1},8,["label"]),C($(me),{label:e.$t("Tags"),path:"tags[]"},{default:A((()=>[C($(we),{value:Pe.value["tags[]"],"onUpdate:value":t[26]||(t[26]=e=>Pe.value["tags[]"]=e)},null,8,["value"])])),_:1},8,["label"]),C($(me),{label:e.$t("Is Public"),path:"is_public"},{default:A((()=>[C($(ye),{value:Pe.value.is_public,"onUpdate:value":t[27]||(t[27]=e=>Pe.value.is_public=e),"checked-value":"1","unchecked-value":"0"},null,8,["value"])])),_:1},8,["label"])])),_:1},8,["model"]),g("div",Uo,[C($(ee),{onClick:t[28]||(t[28]=e=>De.value=!1)},{default:A((()=>[O(S(e.$t("Cancel")),1)])),_:1}),C($(ee),{type:"primary",class:"ml-2",onClick:Mt},{default:A((()=>[O(S(e.$t("Confirm")),1)])),_:1})])])),_:1},8,["show","title"]),C($(pe),{show:Qe.value,"onUpdate:show":t[36]||(t[36]=e=>Qe.value=e),preset:"card",style:{width:"90%","max-width":"600px"},title:e.$t("File Settings"),"mask-closable":!1},{default:A((()=>[C($(ve),{ref_key:"fileFormRef",ref:Ne,model:Re.value,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging"},{default:A((()=>[C($(me),{label:e.$t("Storage Location"),path:"storage_id"},{default:A((()=>[C($(ge),{value:Re.value.storage_id,"onUpdate:value":t[30]||(t[30]=e=>Re.value.storage_id=e),options:Ge.value,placeholder:e.$t("Please select storage location"),"label-field":"name","value-field":"id",filterable:""},null,8,["value","options","placeholder"])])),_:1},8,["label"]),$(u).isLoggedIn?(m(),z($(me),{key:0,label:e.$t("Album"),path:"album_id"},{default:A((()=>[C($(ge),{value:Re.value.album_id,"onUpdate:value":t[31]||(t[31]=e=>Re.value.album_id=e),options:Ve.value,placeholder:e.$t("Please select album"),"label-field":"name","value-field":"id",filterable:"",clearable:""},null,8,["value","options","placeholder"])])),_:1},8,["label"])):j("",!0),C($(me),{label:e.$t("Expiration Time"),path:"expired_at"},{default:A((()=>[C($(ke),{"formatted-value":Re.value.expired_at,"onUpdate:formattedValue":t[32]||(t[32]=e=>Re.value.expired_at=e),type:"datetime",placeholder:e.$t("Select expiration time"),"is-date-disabled":e=>e<Date.now(),"value-format":"yyyy-MM-dd HH:mm:ss",clearable:"",style:{width:"100%"}},null,8,["formatted-value","placeholder","is-date-disabled"])])),_:1},8,["label"]),C($(me),{label:e.$t("Tags"),path:"tags[]"},{default:A((()=>[C($(we),{value:Re.value["tags[]"],"onUpdate:value":t[33]||(t[33]=e=>Re.value["tags[]"]=e)},null,8,["value"])])),_:1},8,["label"]),C($(me),{label:e.$t("Is Public"),path:"is_public"},{default:A((()=>[C($(ye),{value:Re.value.is_public,"onUpdate:value":t[34]||(t[34]=e=>Re.value.is_public=e),"checked-value":"1","unchecked-value":"0"},null,8,["value"])])),_:1},8,["label"])])),_:1},8,["model"]),g("div",Lo,[C($(ee),{onClick:t[35]||(t[35]=e=>Qe.value=!1)},{default:A((()=>[O(S(e.$t("Cancel")),1)])),_:1}),C($(ee),{type:"primary",class:"ml-2",onClick:et},{default:A((()=>[O(S(e.$t("Confirm")),1)])),_:1})])])),_:1},8,["show","title"]),C($(pe),{show:N.value,"onUpdate:show":t[43]||(t[43]=e=>N.value=e),preset:"card",style:{width:"90%","max-width":"600px"},title:e.$t("Embed Codes")},{default:A((()=>[G.value?(m(),v("div",zo,[g("div",Bo,[g("p",Oo,S(e.$t("Image"))+": "+S(G.value.file.name),1),G.value.response&&G.value.response.data&&G.value.response.data.public_url?(m(),z($(xe),{key:0,src:G.value.response.data.public_url,"object-fit":"contain",width:150,class:"rounded mb-3"},null,8,["src"])):j("",!0)]),C($(be),{type:"line"},{default:A((()=>[C($(_e),{name:"html",tab:e.$t("HTML")},{default:A((()=>[C($(Ce),null,{default:A((()=>[C($(ue),{value:Ut("html"),readonly:"",type:"textarea"},null,8,["value"]),C($(ee),{type:"primary",ghost:"",onClick:t[37]||(t[37]=e=>Lt(Ut("html")))},{default:A((()=>[O(S(e.$t("Copy")),1)])),_:1})])),_:1})])),_:1},8,["tab"]),C($(_e),{name:"markdown",tab:e.$t("Markdown")},{default:A((()=>[C($(Ce),null,{default:A((()=>[C($(ue),{value:Ut("markdown"),readonly:"",type:"textarea"},null,8,["value"]),C($(ee),{type:"primary",ghost:"",onClick:t[38]||(t[38]=e=>Lt(Ut("markdown")))},{default:A((()=>[O(S(e.$t("Copy")),1)])),_:1})])),_:1})])),_:1},8,["tab"]),C($(_e),{name:"markdown_with_link",tab:e.$t("Markdown with Link")},{default:A((()=>[C($(Ce),null,{default:A((()=>[C($(ue),{value:Ut("markdown_with_link"),readonly:"",type:"textarea"},null,8,["value"]),C($(ee),{type:"primary",ghost:"",onClick:t[39]||(t[39]=e=>Lt(Ut("markdown_with_link")))},{default:A((()=>[O(S(e.$t("Copy")),1)])),_:1})])),_:1})])),_:1},8,["tab"]),C($(_e),{name:"bbcode",tab:e.$t("BBCode")},{default:A((()=>[C($(Ce),null,{default:A((()=>[C($(ue),{value:Ut("bbcode"),readonly:"",type:"textarea"},null,8,["value"]),C($(ee),{type:"primary",ghost:"",onClick:t[40]||(t[40]=e=>Lt(Ut("bbcode")))},{default:A((()=>[O(S(e.$t("Copy")),1)])),_:1})])),_:1})])),_:1},8,["tab"]),C($(_e),{name:"url",tab:e.$t("URL")},{default:A((()=>[C($(Ce),null,{default:A((()=>[C($(ue),{value:Ut("url"),readonly:""},null,8,["value"]),C($(ee),{type:"primary",ghost:"",onClick:t[41]||(t[41]=e=>Lt(Ut("url")))},{default:A((()=>[O(S(e.$t("Copy")),1)])),_:1})])),_:1})])),_:1},8,["tab"])])),_:1})])):j("",!0),g("div",Ho,[C($(ee),{onClick:t[42]||(t[42]=e=>N.value=!1)},{default:A((()=>[O(S(e.$t("Close")),1)])),_:1})])])),_:1},8,["show","title"]),C($(pe),{show:V.value,"onUpdate:show":t[44]||(t[44]=e=>V.value=e),preset:"dialog",title:e.$t("Upload Error Details"),"close-on-esc":!0,style:{width:"90%","max-width":"600px"}},{default:A((()=>[g("div",Fo,[g("div",Do,S(e.$t("Error Message"))+":",1),g("div",Qo,S(W.value),1)])])),_:1},8,["show","title"])]))}}),To=Nl(Yo,[["__scopeId","data-v-b6a04157"]]),Po=f({__name:"UploadButton",setup(e,{expose:t}){const n=re(),o=l(),a=r(),i=$n(),s=b(),u=w(),d=x(null),c=x(0),p=x(0),h=x(!1);let f=null;const g=y((()=>{var e,t,l,n,r,i,s;const d={storage_id:((null==(e=o.group)?void 0:e.storages)||[]).length>0?null==(t=o.group)?void 0:t.storages[0].id:void 0,"tags[]":[],is_public:!1},c={},p=a.token;p&&(c.Authorization=`Bearer ${p}`);const h=u.t("You can currently upload up to {max} images, allowing {limit} uploads at a time. The site has hosted {count} images.",{max:Rl.fileSize(1024*((null==(l=o.group)?void 0:l.group.options.max_upload_size)||0)).toString(),limit:((null==(n=o.group)?void 0:n.group.options.limit_concurrent_upload)||3).toString(),count:((null==(r=o.configs)?void 0:r.app.photo_count)||0).toString()});return{endpoint:"/api/v2/upload",maxFileSize:1024*((null==(i=o.group)?void 0:i.group.options.max_upload_size)||0),concurrency:(null==(s=o.group)?void 0:s.group.options.limit_concurrent_upload)||3,allowedFileTypes:[".jpg",".jpeg",".png",".gif",".bmp",".webp",".tif"],formData:d,headers:c,tip:h}}));function k(){var e,t;if(d.value){const l=(null==(t=(e=d.value).getFiles)?void 0:t.call(e))||[];c.value=l.filter((e=>"uploading"===e.status)).length,p.value=l.filter((e=>"pending"===e.status)).length,h.value=c.value>0}}function _(){var e,t,l,r,i;if(!(null==(e=o.configs)?void 0:e.app.guest_upload)&&!a.isLoggedIn)return void n.error(u.t("Please login before uploading images"));"open_queue"===((null==(l=null==(t=a.profile)?void 0:t.options)?void 0:l.upload_button_action)||"select_files")?null==(r=d.value)||r.showUploadQueue():null==(i=d.value)||i.selectFiles()}function M(e,t){setTimeout((async()=>{if(a.isLoggedIn&&await a.fetchUserProfile(),s.path.includes("/user/photo")&&a.isLoggedIn){const e={...i.queries};i.resetPhotos(e)}}),300)}function j(){d.value&&d.value.showUploadQueue()}return F((()=>{f=window.setInterval(k,1e3),Un.on(zn.TRIGGER_UPLOAD_BUTTON,_),Un.on(zn.OPEN_UPLOAD_QUEUE,j)})),D((()=>{null!==f&&clearInterval(f),Un.off(zn.TRIGGER_UPLOAD_BUTTON,_),Un.off(zn.OPEN_UPLOAD_QUEUE,j)})),t({selectFiles:()=>{var e;return null==(e=d.value)?void 0:e.selectFiles()},showUploadQueue:j,handleUploadClick:_,uploaderRef:d}),(e,t)=>(m(),v("div",null,[C(To,q({ref_key:"uploaderRef",ref:d},g.value,{onUploadSuccess:M}),null,16),C($(ce),{value:p.value>0?p.value:void 0,processing:h.value},{default:A((()=>[C($(ee),{circle:"",secondary:"",strong:"",onClick:_,title:$(u).t("Upload")},{icon:A((()=>[C($(Z),{component:$(at),size:22},null,8,["component"])])),_:1},8,["title"])])),_:1},8,["value","processing"])]))}}),Ro=f({__name:"SidebarButton",setup(e){const t=n();return(e,l)=>(m(),z($(ee),{circle:"",quaternary:"",onClick:l[0]||(l[0]=e=>$(t).toggleSidebar())},{icon:A((()=>[C($(Z),{component:$(Vt),size:25},null,8,["component"])])),_:1}))}}),Io={class:"truncate text-lg"},qo=f({__name:"HeaderTitle",props:{title:{type:String,required:!0}},setup(e){const t=e;return(e,l)=>(m(),v("div",Io,S(t.title),1))}}),No=f({__name:"LoginButton",setup(e){const t=E();return(e,l)=>(m(),z($(ee),{tertiary:"",type:"primary",onClick:l[0]||(l[0]=e=>$(t).push({name:"Login"}))},{icon:A((()=>[C($(Z),{component:$(Se)},null,8,["component"])])),default:A((()=>[O(" "+S(e.$t("Go to Login")),1)])),_:1}))}}),Go=f({__name:"ExploreButton",setup(e){const t=E(),{t:l}=w();return(e,n)=>(m(),z($(ee),{circle:"",secondary:"",strong:"",title:$(l)("Square"),onClick:n[0]||(n[0]=e=>$(t).push({name:"explore"}))},{icon:A((()=>[C($(Z),{component:$(pt),size:"25"},null,8,["component"])])),_:1},8,["title"]))}}),Vo={class:"flex items-center w-1/2 md:w-[70%]"},Wo={class:"flex flex-wrap justify-end shrink-0 space-x-4"},Xo=f({__name:"Header",props:{title:{type:String,required:!1},showSidebarButton:{type:Boolean,default:()=>!1},showUploadButton:{type:Boolean,default:()=>!1},showUserButton:{type:Boolean,default:()=>!1},bordered:{type:Boolean,default:()=>!1}},setup(e){const t=e,n=r(),o=l();return(l,r)=>(m(),z($(W),{bordered:t.bordered,class:"flex text-md p-4 items-center justify-between transition-all duration-400 border-b dark:border-b-gray-600 w-full h-16 z-[2]",position:"absolute"},{default:A((()=>{var l,r;return[g("div",Vo,[t.showSidebarButton?(m(),z(Ro,{key:0,class:"mr-4"})):j("",!0),t.title?(m(),z(qo,{key:1,title:t.title},null,8,["title"])):j("",!0)]),g("div",Wo,[(null==(r=null==(l=$(o).configs)?void 0:l.app)?void 0:r.enable_explore)?(m(),z(Go,{key:0})):j("",!0),e.showUploadButton?(m(),z(Po,{key:1})):j("",!0),C(Kl),$(n).isLoggedIn?j("",!0):(m(),z(No,{key:2})),e.showUserButton&&$(n).isLoggedIn?(m(),z(tn,{key:3})):j("",!0)])]})),_:1},8,["bordered"]))}}),Jo={class:"flex items-center shrink-0 w-full h-20 bg-white dark:bg-[var(--n-color)] border-t dark:border-gray-600"},Zo={class:"flex flex-col md:flex-row md:justify-between mx-auto px-6 md:px-0 container max-w-screen-lg w-full text-gray-500 dark:text-gray-300"},Ko={class:"divide-x-2 divide-gray-300"},er={href:"https://beian.miit.gov.cn/"},tr=f({__name:"Footer",setup(e){const t=l();return(e,l)=>{var n,o,r;return m(),v("footer",Jo,[g("div",Zo,[g("div",Ko,[g("a",er,S(null==(n=$(t).configs)?void 0:n.app.icp_no),1)]),g("div",null,S(e.$t("Copyright",{year:new Date(1e3*((null==(o=$(t).configs)?void 0:o.app.timestamp)||0)).getFullYear(),name:null==(r=$(t).configs)?void 0:r.app.name})),1)])])}}}),lr=f({__name:"Layout",props:{showHeader:{type:Boolean,default:()=>!0},showFooter:{type:Boolean,default:()=>!0},headerTitle:{type:String,default:()=>""},toggleHeader:{type:Boolean,default:()=>!0},onScroll:{type:Function,default:()=>{}},contentClass:{type:String,default:()=>""},contentStyle:{type:Object,default:()=>({})}},setup(e){const t=n(),o=a(),i=r(),s=l(),u=e,d=x([u.toggleHeader?"!-top-60":""]);_((()=>u.toggleHeader),(e=>{d.value=e?["!-top-60"]:[]}));const c=e=>{const t=e.target;u.toggleHeader&&(d.value=t.scrollTop>50?["top-0"]:["!-top-60"]),u.onScroll&&u.onScroll(e)},p=x(null);return G("scrollContainerRef",p),(l,n)=>(m(),z($(Me),{key:$(t).key,class:I([{dark:$(o).isDark},"h-full min-h-screen"]),"has-sider":""},{default:A((()=>[C($(Me),{class:"inset-0 h-full","has-sider":"",position:"absolute"},{default:A((()=>[$(i).isLoggedIn?(m(),z(Gl,{key:0})):j("",!0),C($(Me),null,{default:A((()=>{var t,n;return[u.showHeader?(m(),z(Xo,{key:0,class:I(d.value),title:u.headerTitle,"show-upload-button":$(i).isLoggedIn||(null==(n=null==(t=$(s).configs)?void 0:t.app)?void 0:n.guest_upload),"show-sidebar-button":$(i).isLoggedIn,"show-user-button":$(i).isLoggedIn},null,8,["class","title","show-upload-button","show-sidebar-button","show-user-button"])):j("",!0),C($(Ae),{ref_key:"scrollContainerRef",ref:p,"native-scrollbar":!0,class:I(["w-full h-full",{"pt-16":u.showHeader&&!u.toggleHeader}]),position:"absolute","on-scroll":c,"content-class":["h-full w-full bg-gray-100 dark:bg-[var(--n-color)]",u.contentClass].join(" "),"content-style":e.contentStyle},{default:A((()=>[N(l.$slots,"default"),u.showFooter?N(l.$slots,"footer",{key:0},(()=>[C(tr)])):j("",!0)])),_:3},8,["class","content-class","content-style"])]})),_:3})])),_:3})])),_:3},8,["class"]))}});export{Ve as A,pt as C,zn as E,jt as I,xl as S,lr as _,at as a,Nl as b,en as c,un as d,Un as e,$n as f,En as g,vt as h,Rl as n,ln as s,jn as u};
