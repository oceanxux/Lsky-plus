import{_ as e}from"./Content.vue_vue_type_script_setup_true_lang-CEfikmAR.js";import{_ as a}from"./Layout.vue_vue_type_script_setup_true_lang-Bd80f82b.js";import{u as t,b as l,F as o,a as u,X as s}from"./index-DZdj2b_n.js";import{k as n,$ as i,r,c as d,w as p,N as _,Q as c,P as v,Y as g,j as h,a7 as m,L as f}from"./vue-vendors-B4XdlKKZ.js";import{r as w,a6 as b,C as y,Q as $}from"./naive-ui-DFBPfLe9.js";import"./icons-C1_zt0kT.js";import"./photo-components-DTzq5atJ.js";import"./utils-DGAJShNI.js";const x=n({__name:"IndexView",setup(n){var x;const j=t(),U=l(),L=o(),C=u(),{t:S}=i(),q=r({language:"zh-CN",show_original_photos:!1,encode_copied_url:!1,auto_upload_after_select:!1,upload_button_action:"select_files",default_storage_id:null,...(null==(x=U.profile)?void 0:x.options)||{}}),A=L.getLocales(),N=d((()=>{var e;const a=(null==(e=C.group)?void 0:e.storages)||[];return[{label:S("None (follow global settings)"),value:null},...a.map((e=>({label:e.name,value:e.id})))]})),k=d((()=>{var e;if(!q.value.default_storage_id)return!0;return((null==(e=C.group)?void 0:e.storages)||[]).some((e=>e.id===q.value.default_storage_id))}));return p(q,(e=>{s({body:e}).then((()=>{U.setOptions(q.value)}))}),{deep:!0}),p((()=>q.value.language),(e=>{L.setLocale(e),j.refresh()})),p((()=>{var e;return null==(e=C.group)?void 0:e.storages}),(()=>{k.value||(q.value.default_storage_id=null)}),{deep:!0}),(t,l)=>(f(),_(a,{"header-title":t.$t("Settings"),"toggle-header":!1,"show-footer":!1},{default:c((()=>[v(e,{class:"mx-auto p-4 md:p-10 space-y-10"},{default:c((()=>[v(g(w),{"content-class":"space-y-6"},{default:c((()=>[v(g(b),null,{header:c((()=>[h(m(t.$t("System Language")),1)])),description:c((()=>[h(m(t.$t("Choose your language preference")),1)])),"header-extra":c((()=>[v(g(y),{class:"min-w-40 md:min-w-60",value:q.value.language,"onUpdate:value":l[0]||(l[0]=e=>q.value.language=e),options:g(A)},null,8,["value","options"])])),_:1}),v(g(b),null,{header:c((()=>[h(m(t.$t("Show original photos")),1)])),description:c((()=>[h(m(t.$t("Priority is given to the original file rather than thumbnails when viewing images. This may cause the photos to appear slower.")),1)])),"header-extra":c((()=>[v(g($),{value:q.value.show_original_photos,"onUpdate:value":l[1]||(l[1]=e=>q.value.show_original_photos=e)},null,8,["value"])])),_:1}),v(g(b),null,{header:c((()=>[h(m(t.$t("Encode URL when copying")),1)])),description:c((()=>[h(m(t.$t("When copying an image URL, automatically encode special characters to ensure compatibility across different platforms.")),1)])),"header-extra":c((()=>[v(g($),{value:q.value.encode_copied_url,"onUpdate:value":l[2]||(l[2]=e=>q.value.encode_copied_url=e)},null,8,["value"])])),_:1}),v(g(b),null,{header:c((()=>[h(m(t.$t("Auto upload after selecting images")),1)])),description:c((()=>[h(m(t.$t("Automatically start uploading all images immediately after selection.")),1)])),"header-extra":c((()=>[v(g($),{value:q.value.auto_upload_after_select,"onUpdate:value":l[3]||(l[3]=e=>q.value.auto_upload_after_select=e)},null,8,["value"])])),_:1}),v(g(b),null,{header:c((()=>[h(m(t.$t("Upload button behavior")),1)])),description:c((()=>[h(m(t.$t("Choose what happens when you click the upload button in the header. Select files to open file selector, or open queue to show upload queue.")),1)])),"header-extra":c((()=>[v(g(y),{class:"min-w-40 md:min-w-60",value:q.value.upload_button_action,"onUpdate:value":l[4]||(l[4]=e=>q.value.upload_button_action=e),options:[{label:t.$t("Select files"),value:"select_files"},{label:t.$t("Open upload queue"),value:"open_queue"}]},null,8,["value","options"])])),_:1}),v(g(b),null,{header:c((()=>[h(m(t.$t("Default Storage")),1)])),description:c((()=>[h(m(t.$t("Choose the default storage location for uploading images. If not set, it will follow the global settings.")),1)])),"header-extra":c((()=>[v(g(y),{class:"min-w-40 md:min-w-60",value:q.value.default_storage_id,"onUpdate:value":l[5]||(l[5]=e=>q.value.default_storage_id=e),options:N.value,filterable:"",clearable:""},null,8,["value","options"])])),_:1})])),_:1})])),_:1})])),_:1},8,["header-title"]))}});export{x as default};
